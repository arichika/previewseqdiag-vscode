!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=17)}([function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(28)),i=n(r(1)),a=n(r(31)),u=o,c={};e.init=function(t,e){i.init(t),c=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},e.createSVG=function(t,e,r){return u=function(t){return Boolean(t)?"wobbly"===t?a:o:u}(r),i.createSVG(t,e)},e.updateSVG=i.updateSVG,e.createTitle=i.createTitle,e.createDesc=i.createDesc,e.createDefs=i.createDefs,e.createTSpan=i.createTSpan,e.createRect=function(t,e){return u.createRect(t,e)},e.createRBox=function(t,e){return u.createRBox(t,e)},e.createABox=function(t,e){return u.createABox(t,e)},e.createNote=function(t,e){return u.createNote(t,e)},e.createEdgeRemark=function(t,e){return u.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:c.LINE_WIDTH})},e.createText=i.createText,e.createDiagonalText=i.createDiagonalText,e.createLine=function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=c.LINE_WIDTH),u.createDoubleLine(t,e)):u.createSingleLine(t,e)},e.createUTurn=i.createUTurn,e.createGroup=i.createGroup,e.createMarkerPath=i.createMarkerPath,e.createMarkerPolygon=i.createMarkerPolygon},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(29)),a=o(r(30)),u=o(r(7)),c=2;function s(t){return u.default(t.x,c).toString()+","+u.default(t.y,c).toString()+" "}function l(t,e,r){return t+s({x:e,y:r})}function f(t,e,r,n){return i.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}e.point2String=s,e.pathPoint2String=l;var d="vertical-align:text-top;";function h(t,e){var r=i.createElement("tspan"),n=i.createTextNode(t);return r.appendChild(n),e?function(t,e){var r=i.createElement("a");return i.setAttributesNS(r,i.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function p(t,e,r){var n=Object.assign({class:null,url:null,id:null,idurl:null},r),o=i.createElement("text",{x:u.default(e.x,c).toString(),y:u.default(e.y,c).toString(),class:n.class});if(o.appendChild(h(t,n.url)),n.id){var a=h(" ["+n.id+"]",n.idurl);a.setAttribute("style",d),o.appendChild(a)}return o}function g(t,e){var r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return b(i.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function b(t,e,r){var n="";return r&&(n+="fill:"+r+";"),e&&(n+="stroke:"+e+";"),i.setAttribute(t,"style",n)}d+="font-size:0.7em;text-anchor:start;",e.createTSpan=h,e.createText=p,e.createPath=g,e.createSingleLine=function(t,e){return i.createElement("line",{x1:u.default(t.xFrom,c).toString(),y1:u.default(t.yFrom,c).toString(),x2:u.default(t.xTo,c).toString(),y2:u.default(t.yTo,c).toString(),class:e?e.class:null})},e.createRect=function(t,e){var r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return b(i.createElement("rect",{width:u.default(t.width,c),height:u.default(t.height,c),x:u.default(t.x,c),y:u.default(t.y,c),rx:u.default(r.rx,c),ry:u.default(r.ry,c),class:r.class}),r.color,r.bgColor)},e.createUTurn=function(t,e,r){var n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*n.lineWidth:t.x;return g(l("M",t.x,t.y-t.height/2)+l("C",t.x+t.width,t.y-7.5*n.lineWidth/2)+s({x:t.x+t.width,y:e+0})+s({x:o,y:e}),{class:n.class})},e.createGroup=function(t,e){return i.createElement("g",{id:t,class:e})},e.createMarkerPath=function(t,e,r){var n=f(t,"arrow-marker","auto");return n.appendChild(g(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+r||!1})),n},e.createMarkerPolygon=function(t,e,r){var n=f(t,"arrow-marker","auto");return n.appendChild(i.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},e.createTitle=function(t){var e=i.createElement("title"),r=i.createTextNode(t);return e.appendChild(r),e},e.createDiagonalText=function(t,e,r){return i.setAttributes(p(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+u.default(a.default(e),c).toString()+" "+u.default(e.width/2,c).toString()+" "+u.default(e.height/2,c).toString()+")"})},e.createDesc=function(){return i.createElement("desc")},e.createDefs=function(){return i.createElement("defs")},e.createSVG=function(t,e){return i.createElement("svg",{version:"1.1",id:t,class:e,xmlns:i.SVGNS,"xmlns:xlink":i.XLINKNS,width:"0",height:"0"})},e.init=i.init,e.updateSVG=i.setAttributes},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return n[t]}},function(t,e,r){"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},function(t,e,r){"use strict";e.__esModule=!0,e.determineStartCorrection=function(t,e,r){var n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},e.determineEndCorrection=function(t,e,r){var n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},e.getDirection=function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}},function(t,e,r){(function(t,r){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",u="[object Boolean]",c="[object Date]",s="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",b="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",E="[object Uint32Array]",T=/\w*$/,M=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,F={};F[a]=F["[object Array]"]=F[y]=F[v]=F[u]=F[c]=F[x]=F[w]=F[_]=F[C]=F[A]=F[f]=F[d]=F[h]=F[p]=F[g]=F[b]=F[m]=F[S]=F[k]=F[L]=F[E]=!0,F["[object Error]"]=F[s]=F["[object WeakMap]"]=!1;var O="object"==typeof t&&t&&t.Object===Object&&t,I="object"==typeof self&&self&&self.Object===Object&&self,P=O||I||Function("return this")(),D=e&&!e.nodeType&&e,N=D&&"object"==typeof r&&r&&!r.nodeType&&r,B=N&&N.exports===D;function H(t,e){return t.set(e[0],e[1]),t}function W(t,e){return t.add(e),t}function R(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function X(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function z(t,e){return function(r){return t(e(r))}}function V(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var q,U=Array.prototype,$=Function.prototype,Y=Object.prototype,Z=P["__core-js_shared__"],K=(q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",J=$.toString,Q=Y.hasOwnProperty,tt=Y.toString,et=RegExp("^"+J.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=B?P.Buffer:void 0,nt=P.Symbol,ot=P.Uint8Array,it=z(Object.getPrototypeOf,Object),at=Object.create,ut=Y.propertyIsEnumerable,ct=U.splice,st=Object.getOwnPropertySymbols,lt=rt?rt.isBuffer:void 0,ft=z(Object.keys,Object),dt=Nt(P,"DataView"),ht=Nt(P,"Map"),pt=Nt(P,"Promise"),gt=Nt(P,"Set"),bt=Nt(P,"WeakMap"),mt=Nt(Object,"create"),yt=Gt(dt),vt=Gt(ht),xt=Gt(pt),wt=Gt(gt),_t=Gt(bt),Ct=nt?nt.prototype:void 0,At=Ct?Ct.valueOf:void 0;function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){this.__data__=new kt(t)}function Tt(t,e){var r=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Vt(t)}(t)&&Q.call(t,"callee")&&(!ut.call(t,"callee")||tt.call(t)==a)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!Q.call(t,i)||o&&("length"==i||Wt(i,n))||r.push(i);return r}function Mt(t,e,r){var n=t[e];Q.call(t,e)&&Xt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function jt(t,e){for(var r=t.length;r--;)if(Xt(t[r][0],e))return r;return-1}function Ft(t,e,r,n,o,i,M){var j;if(n&&(j=i?n(t,o,i,M):n(t)),void 0!==j)return j;if(!$t(t))return t;var O=zt(t);if(O){if(j=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,j)}else{var I=Ht(t),P=I==s||I==l;if(qt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(I==h||I==a||P&&!i){if(G(t))return i?t:{};if(j=function(t){return"function"!=typeof t.constructor||Rt(t)?{}:(e=it(t),$t(e)?at(e):{});var e}(P?{}:t),!e)return function(t,e){return Pt(t,Bt(t),e)}(t,function(t,e){return t&&Pt(e,Yt(e),t)}(j,t))}else{if(!F[I])return i?t:{};j=function(t,e,r,n){var o=t.constructor;switch(e){case y:return It(t);case u:case c:return new o(+t);case v:return function(t,e){var r=e?It(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case x:case w:case _:case C:case A:case S:case k:case L:case E:return function(t,e){var r=e?It(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case f:return function(t,e,r){return R(e?r(X(t),!0):X(t),H,new t.constructor)}(t,n,r);case d:case b:return new o(t);case p:return function(t){var e=new t.constructor(t.source,T.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,r){return R(e?r(V(t),!0):V(t),W,new t.constructor)}(t,n,r);case m:return i=t,At?Object(At.call(i)):{}}var i}(t,I,Ft,e)}}M||(M=new Et);var D=M.get(t);if(D)return D;if(M.set(t,j),!O)var N=r?function(t){return function(t,e,r){var n=e(t);return zt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Yt,Bt)}(t):Yt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(N||t,(function(o,i){N&&(o=t[i=o]),Mt(j,i,Ft(o,e,r,n,i,t,M))})),j}function Ot(t){return!(!$t(t)||(e=t,K&&K in e))&&(Ut(t)||G(t)?et:M).test(Gt(t));var e}function It(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Pt(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;Mt(r,a,void 0===u?t[a]:u)}return r}function Dt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ot(r)?r:void 0}St.prototype.clear=function(){this.__data__=mt?mt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:Q.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,r=jt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},kt.prototype.get=function(t){var e=this.__data__,r=jt(e,t);return r<0?void 0:e[r][1]},kt.prototype.has=function(t){return jt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var r=this.__data__,n=jt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Lt.prototype.clear=function(){this.__data__={hash:new St,map:new(ht||kt),string:new St}},Lt.prototype.delete=function(t){return Dt(this,t).delete(t)},Lt.prototype.get=function(t){return Dt(this,t).get(t)},Lt.prototype.has=function(t){return Dt(this,t).has(t)},Lt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Et.prototype.clear=function(){this.__data__=new kt},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var r=this.__data__;if(r instanceof kt){var o=r.__data__;if(!ht||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new Lt(o)}return r.set(t,e),this};var Bt=st?z(st,Object):function(){return[]},Ht=function(t){return tt.call(t)};function Wt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Gt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(t,e){return t===e||t!=t&&e!=e}(dt&&Ht(new dt(new ArrayBuffer(1)))!=v||ht&&Ht(new ht)!=f||pt&&"[object Promise]"!=Ht(pt.resolve())||gt&&Ht(new gt)!=g||bt&&"[object WeakMap]"!=Ht(new bt))&&(Ht=function(t){var e=tt.call(t),r=e==h?t.constructor:void 0,n=r?Gt(r):void 0;if(n)switch(n){case yt:return v;case vt:return f;case xt:return"[object Promise]";case wt:return g;case _t:return"[object WeakMap]"}return e});var zt=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Ut(t)}var qt=lt||function(){return!1};function Ut(t){var e=$t(t)?tt.call(t):"";return e==s||e==l}function $t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Vt(t)?Tt(t):function(t){if(!Rt(t))return ft(t);var e=[];for(var r in Object(t))Q.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return Ft(t,!0,!0)}}).call(this,r(6),r(21)(t))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(33)),a=o(r(15)),u=o(r(0)),c={},s=a.get("bboxer");function l(t){var e=c.getElementById(s);(e=e||function(t){var e=u.createSVG(t,a.get());return c.body.appendChild(e),e}(s)).appendChild(t);var r=t.getBBox();return e.removeChild(t),r}function f(t){return"function"==typeof t.getBBox?(e=l(t),Math.abs(e.height)>1e5||Math.abs(e.width)>1e5?{height:0,width:0,x:0,y:0}:e):{height:15,width:15,x:2,y:2};var e}e.getBBox=f,e.removeRenderedSVGFromElement=function(t){a.setPrefix(t);var e=c.getElementById(a.get());if(Boolean(e)){var r=c.getElementById(t);r?r.removeChild(e):c.body.removeChild(e)}},e.init=function(t){c=t},e.calculateTextHeight=i.default((function(){return f(u.createText("ÁjyÎ9ƒ@💩",{x:0,y:0})).height})),e.webkitNamespaceBugWorkaround=function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},function(t,e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function u(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var c,s,l=Object.prototype,f=l.hasOwnProperty,d=l.toString,h=l.propertyIsEnumerable,p=(c=Object.keys,s=Object,function(t){return c(s(t))}),g=Math.max,b=!h.call({valueOf:1},"valueOf");function m(t,e){var r=_(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&C(t)}(t)&&f.call(t,"callee")&&(!h.call(t,"callee")||d.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=r.length,i=!!o;for(var a in t)!e&&!f.call(t,a)||i&&("length"==a||v(a,o))||r.push(a);return r}function y(t,e,r){var n=t[e];f.call(t,e)&&w(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function v(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function x(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||l)}function w(t,e){return t===e||t!=t&&e!=e}var _=Array.isArray;function C(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=A(t)?d.call(t):"";return e==o||e==i}(t)}function A(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var S,k=(S=function(t,e){if(b||x(e)||C(e))!function(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;y(r,a,void 0===u?t[a]:u)}}(e,function(t){return C(t)?m(t):function(t){if(!x(t))return p(t);var e=[];for(var r in Object(t))f.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)f.call(e,r)&&y(t,r,e[r])},function(t,e){return e=g(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=g(r.length-e,0),i=Array(o);++n<o;)i[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i,u(t,this,a)}}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=S.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!A(r))return!1;var n=typeof e;return!!("number"==n?C(r)&&v(e,r.length):"string"==n&&e in r)&&w(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&S(t,a,r,o)}return t})));t.exports=k},function(t,e,r){"use strict";function n(t,e){return void 0===e||"*"===e||t.some((function(t){return t.name===e}))}e.__esModule=!0,e.nameValue2Option=function(t,e){var r={};return r[t.toLowerCase()]=e,r},e.flattenBoolean=function(t){return["true","on","1"].includes(t.toLowerCase())},e.entityExists=n,e.isMscGenKeyword=function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)};var o=function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}(t,e)};e.EntityNotDefinedError=o,e.checkForUndeclaredEntities=function t(e,r){(r||[]).forEach((function(r){r.forEach((function(r){if(r.from&&!n(e,r.from))throw new o(r.from,r);if(r.to&&!n(e,r.to))throw new o(r.to,r);r.arcs&&t(e,r.arcs)}))}))},e.getMetaInfo=function(t,e){var r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some((function(t){return t.some((function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)}))}))}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return n[t]||t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(2)),a=n(r(27)),u=n(r(3)),c=o(r(13)),s=o(r(0)),l=o(r(8));function f(t,e){return e&&t.setAttribute("style","fill:"+e+";"),t}function d(t,e,r,n,o,i){var a,d,h,p=r+(o+.25)*l.calculateTextHeight(),g=function(t,e){var r=t,n=c.getClass(r),o=c.getAggregateClass(r);return n===o?n+e:o+e+n+e}(n.kind,"-text ");return i.alignLeft&&(g+="anchor-start "),i.alignAround&&(p=r+(o+.25)*(l.calculateTextHeight()+u.default.LINE_WIDTH)),a=f(function(t,e,r,n,o){var i=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return s.createText(t,r,i)}(t,o,{x:e,y:p},g,n),n.textcolor),d=n.url,h=n.textcolor,f(a,d&&!h?"blue":h)}function h(t,e){return function(t,e){return"box"===i.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==i.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}function p(t,e,r,n,o){return h(e,o)?a.default(t,function(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.createLabel=function(t,e,r,n){var o=s.createGroup(n);if(r=r||{},t.label){var i=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach((function(){t.push("")})),e.alignAround&&1===t.length&&t.push(""),t}(p(t.label,t.kind,e.width,u.default.FONT_SIZE,r),r),c=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(l.calculateTextHeight()+u.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(l.calculateTextHeight()+1)}(a,e,r);a.forEach((function(e,n){if(""!==e){var a=d(e,i,c,t,n,r);r.ownBackground&&o.appendChild((u=a,f=t.textbgcolor,h=s.createRect(l.getBBox(u),{class:"label-text-background"}),f&&h.setAttribute("style","fill:"+f+"; stroke:"+f+";"),h)),o.appendChild(a)}var u,f,h;c++}))}return o},e.splitLabel=p},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(2)),i=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.getClass=function(t){return i[t]||t},e.getAggregateClass=function(t){return o.default(t)||t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(7)),a=o(r(1)),u=o(r(4)),c=70,s=3;function l(t){return t.map((function(t){return a.pathPoint2String("S",t.controlX,t.controlY)+" "+a.point2String(t)})).join(" ")}function f(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function d(t,e){var r=f(t);return r>0?Math.floor(r/e):0}function h(t){return Math.round(2*Math.random()*t)-t}e.points2CurveString=l,e.line2CurveString=function(t){return l(g(t,c,s))},e.getLineLength=f,e.getNumberOfSegments=d;var p=2;function g(t,e,r){for(var n,o=[],a=d(t,e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(f(e),t)}(e,t)),c=u.getDirection(t),s=c.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(c.dy,2))),l=c.signY*(Math.abs(c.dy)===1/0?e:Math.sqrt(Math.pow(c.dy,2)*Math.pow(e,2)/(1+Math.pow(c.dy,2)))),g=1;g<=a;g++)e>f({xFrom:(n={controlX:i.default(t.xFrom+(g-.5)*s+h(r),p),controlY:i.default(t.yFrom+(g-.5)*l+h(r),p),x:i.default(t.xFrom+g*s,p),y:i.default(t.yFrom+g*l,p)}).x,yFrom:n.y,xTo:t.xTo,yTo:t.yTo})&&(n.x=t.xTo,n.y=t.yTo),o.push(n);return o}e.getBetweenPoints=g},function(t,e,r){"use strict";e.__esModule=!0;var n="mscgenjs",o=n;e.setPrefix=function(t){o=n+t},e.get=function(t){return o+(t||"")}},function(t,e){t.exports={applyTemplate:function(t,e){var r=t;return e&&Object.keys(e).forEach((function(t){r=r.replace(new RegExp("{"+t+"}","g"),e[t])})),r}}},function(t,e,r){var n=r(18),o=r(19),i=r(20),a=r(40),u=r(41),c=r(42),s=r(43),l=r(16),f="<span class='mscgen_js' {src} data-language='{lang}' data-named-style='{namedStyle}' data-regular-arc-text-vertical-alignment='{regularArcTextVerticalAlignment}' {mirrorEntities}>{msc}<span>",d="data-src='{src}' ",h="ERROR: Could not find or open the URL '{url}' specified in the <code>data-src</code> attribute.",p="ERROR: Won't load the chart specified in <code>data-src='{url}'</code>, because loading from separate files is switched off in the mscgen_js configuration. <br><br>See <a href='https://sverweij.github.io/mscgen_js/embed.html#loading-from-separate-files'>Loading charts from separate files</a> in the mscgen_js embedding guide how to enable it.",g=Object.freeze({"text/x-mscgen":"mscgen","text/x-msgenny":"msgenny","text/x-xu":"xu"});function b(t,e){for(var r=0;r<t.length;r++)m(t[r],e+r)}function m(t,e){t.hasAttribute("data-renderedby")||function(t,e){(function(t,e){t.id||(t.id=a.getConfig().parentElementPrefix+e.toString())})(t,e),t.setAttribute("data-renderedby","mscgen_js"),a.getConfig().loadFromSrcAttribute&&!!t.getAttribute("data-src")?c.ajax(t.getAttribute("data-src"),(function(e){v(t,e.target.response)}),(function(){y(t,l.applyTemplate(h,{url:t.getAttribute("data-src")}))})):!a.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?y(t,l.applyTemplate(p,{url:t.getAttribute("data-src")})):v(t,t.textContent)}(t,e)}function y(t,e){t.innerHTML=l.applyTemplate("<div style='color: #d00'>{string}</div>",{string:e})}function v(t,e){var r=function(t){var e=t.getAttribute("data-language");e||(e=a.getConfig().defaultLanguage);return e}(t),c=function(t,e){var r={};try{r="msgenny"===e?o.parse(t):"json"===e?JSON.parse(t):n.parse(t)}catch(t){return t}return r}(e,r);c.entities?function(t,e,r){var n=document.getElementById(e);n.innerHTML="",!0===a.getConfig().clickable&&(n.appendChild(function(t,e,r){var n=document.createElement("a");return n.setAttribute("href",a.getConfig().clickURL+s.toLocationString({pathname:"index.html"},t,e)),n.setAttribute("id",r+"link"),n.setAttribute("style","text-decoration: none;"),n.setAttribute("title","click to edit in the mscgen_js interpreter"),n}(r.source,r.language,e)),e+="link");i.clean(e,window),i.render(t,window,e,{source:r.source,additionalTemplate:r.namedStyle,mirrorEntitiesOnBottom:r.mirrorEntities,regularArcTextVerticalAlignment:r.regularArcTextVerticalAlignment})}(c,t.id,{source:e,language:r,mirrorEntities:x(t),namedStyle:w(t),regularArcTextVerticalAlignment:_(t)}):t.innerHTML=u.renderError(e,c.location,c.message)}function x(t){var e=t.getAttribute("data-mirror-entities");return!(!e||"true"!==e)}function w(t){return t.getAttribute("data-named-style")||"basic"}function _(t){return t.getAttribute("data-regular-arc-text-vertical-alignment")||"middle"}!function(){!function(){for(var t=document.scripts,e=0;e<t.length;e++)g[t[e].type]&&!t[e].hasAttribute("data-renderedby")&&(t[e].insertAdjacentHTML("afterend",l.applyTemplate(f,{src:t[e].src?l.applyTemplate(d,{src:t[e].src}):"",lang:g[t[e].type]||a.getConfig().defaultLanguage,msc:t[e].textContent.replace(/</g,"&lt;"),mirrorEntities:x(t[e])?"data-mirror-entities='true'":"",namedStyle:w(t[e]),regularArcTextVerticalAlignment:_(t[e])})),t[e].setAttribute("data-renderedby","mscgen_js"))}();var t=document.getElementsByClassName("mscgen_js");b(t,0),b(document.getElementsByTagName("mscgen"),t.length)}()},function(t,e,r){var n,o,i;o=[r(9),r(10)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:po},c=po,s="{",l=ao("{",!1),f="}",d=ao("}",!1),h=function(r,n){return n.entities=n.entities||[],e.checkForUndeclaredEntities(n.entities,n.arcs),n=t({meta:e.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},p="msc",g=ao("msc",!0),b="xu",m=ao("xu",!0),y=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},v=",",x=ao(",",!1),w=function(t){return t},_=";",C=ao(";",!1),A=function(e){return e[0].concat(e[1]).reduce(t,{})},S=co("option"),k="hscale",L=ao("hscale",!0),E="arcgradient",T=ao("arcgradient",!0),M="=",j=ao("=",!1),F=function(t,r){return e.nameValue2Option(t,r)},O="width",I=ao("width",!0),P="wordwraparcs",D=ao("wordwraparcs",!0),N=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))},B="wordwrapentities",H=ao("wordwrapentities",!0),W="wordwrapboxes",R=ao("wordwrapboxes",!0),G="watermark",X=ao("watermark",!0),z=function(t){return t},V=function(t){return t[0].concat(t[1])},q=co("entity"),U="[",$=ao("[",!1),Y="]",Z=ao("]",!1),K=function(t,e){return e},J=function(e,r){return t({name:e},r)},Q=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:lo(eo,to),function(t,e){return new r(t,null,null,e)}(t,e)}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},tt=function(t){return t},et=function(t){return t[0].concat(t[1])},rt=function(t,e){return e},nt=function(e,r){return t(e,r)},ot=function(t){return{kind:t}},it=function(t,e,r){return{kind:e,from:t,to:r}},at="*",ut=ao("*",!1),ct=function(t,e){return{kind:t,from:"*",to:e}},st=function(t,e){return{kind:e,from:t,to:"*"}},lt=function(t,e,r,n){return n},ft=function(e,r,n,o,i){return t({kind:r,from:e,to:n,arcs:i},o)},dt=co("empty row"),ht="|||",pt=ao("|||",!1),gt="...",bt=ao("...",!1),mt=co("---"),yt="---",vt=ao("---",!1),xt=function(t){return t.toLowerCase()},wt=co("bi-directional arrow"),_t="--",Ct=ao("--",!1),At="<->",St=ao("<->",!1),kt="==",Lt=ao("==",!1),Et="<<=>>",Tt=ao("<<=>>",!1),Mt="<=>",jt=ao("<=>",!1),Ft="..",Ot=ao("..",!1),It="<<>>",Pt=ao("<<>>",!1),Dt="::",Nt=ao("::",!1),Bt="<:>",Ht=ao("<:>",!1),Wt=co("left to right arrow"),Rt="->",Gt=ao("->",!1),Xt="=>>",zt=ao("=>>",!1),Vt="=>",qt=ao("=>",!1),Ut=">>",$t=ao(">>",!1),Yt=":>",Zt=ao(":>",!1),Kt="-x",Jt=ao("-x",!0),Qt=co("right to left arrow"),te="<-",ee=ao("<-",!1),re="<<=",ne=ao("<<=",!1),oe="<=",ie=ao("<=",!1),ae="<<",ue=ao("<<",!1),ce="<:",se=ao("<:",!1),le="x-",fe=ao("x-",!0),de=co("box"),he="note",pe=ao("note",!0),ge="abox",be=ao("abox",!0),me="rbox",ye=ao("rbox",!0),ve="box",xe=ao("box",!0),we=co("inline expression"),_e="alt",Ce=ao("alt",!0),Ae="else",Se=ao("else",!0),ke="opt",Le=ao("opt",!0),Ee="break",Te=ao("break",!0),Me="par",je=ao("par",!0),Fe="seq",Oe=ao("seq",!0),Ie="strict",Pe=ao("strict",!0),De="neg",Ne=ao("neg",!0),Be="critical",He=ao("critical",!0),We="ignore",Re=ao("ignore",!0),Ge="consider",Xe=ao("consider",!0),ze="assert",Ve=ao("assert",!0),qe="loop",Ue=ao("loop",!0),$e="ref",Ye=ao("ref",!0),Ze="exc",Ke=ao("exc",!0),Je=function(t){return t.toLowerCase()},Qe=function(e){return e[0].concat(e[1]).reduce(t,{})},tr=co("activate or deactivate"),er="activate",rr=ao("activate",!0),nr="deactivate",or=ao("deactivate",!0),ir=function(t){return{activation:"activate"===t.toLowerCase()}},ar=function(t,r){var n={};return"activation"===t.toLowerCase()?n.activation=e.flattenBoolean(r):n[t.toLowerCase().replace("colour","color")]=r,n},ur=co("attribute name"),cr="label",sr=ao("label",!0),lr="idurl",fr=ao("idurl",!0),dr="id",hr=ao("id",!0),pr="url",gr=ao("url",!0),br="linecolor",mr=ao("linecolor",!0),yr="linecolour",vr=ao("linecolour",!0),xr="textcolor",wr=ao("textcolor",!0),_r="textcolour",Cr=ao("textcolour",!0),Ar="textbgcolor",Sr=ao("textbgcolor",!0),kr="textbgcolour",Lr=ao("textbgcolour",!0),Er="arclinecolor",Tr=ao("arclinecolor",!0),Mr="arclinecolour",jr=ao("arclinecolour",!0),Fr="arctextcolor",Or=ao("arctextcolor",!0),Ir="arctextcolour",Pr=ao("arctextcolour",!0),Dr="arctextbgcolor",Nr=ao("arctextbgcolor",!0),Br="arctextbgcolour",Hr=ao("arctextbgcolour",!0),Wr="arcskip",Rr=ao("arcskip",!0),Gr="title",Xr=ao("title",!0),zr="activation",Vr=ao("activation",!0),qr=co("double quoted string"),Ur='"',$r=ao('"',!1),Yr=function(t){return t.join("")},Zr='\\"',Kr=ao('\\"',!1),Jr={type:"any"},Qr=function(t){return t},tn=co("identifier"),en=/^[A-Za-z_0-9]/,rn=uo([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),nn=function(t){return t.join("")},on=co("whitespace"),an=/^[ \t]/,un=uo([" ","\t"],!1,!1),cn=co("lineend"),sn=/^[\r\n]/,ln=uo(["\r","\n"],!1,!1),fn="/*",dn=ao("/*",!1),hn="*/",pn=ao("*/",!1),gn=function(t,e,r){return t+e.join("")+r},bn="//",mn=ao("//",!1),yn="#",vn=ao("#",!1),xn=/^[^\r\n]/,wn=uo(["\r","\n"],!0,!1),_n=function(t,e){return t+e.join("")},Cn=co("comment"),An=co("number"),Sn=function(t){return t},kn=function(t){return t.toString()},Ln=function(t){return t.toString()},En=/^[0-9]/,Tn=uo([["0","9"]],!1,!1),Mn=function(t){return parseInt(t.join(""),10)},jn=".",Fn=ao(".",!1),On=function(t){return parseFloat(t.join(""))},In=co("boolean"),Pn=function(t){return t},Dn=function(t){return t.toString()},Nn="true",Bn=ao("true",!0),Hn="false",Wn=ao("false",!0),Rn="on",Gn=ao("on",!0),Xn="off",zn=ao("off",!0),Vn="0",qn=ao("0",!1),Un="1",$n=ao("1",!1),Yn=co("size"),Zn=function(t){return t.toString()},Kn="auto",Jn=ao("auto",!0),Qn=function(t){return t.toLowerCase()},to=0,eo=0,ro=[{line:1,column:1}],no=0,oo=[],io=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');c=u[o.startRule]}function ao(t,e){return{type:"literal",text:t,ignoreCase:e}}function uo(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function co(t){return{type:"other",description:t}}function so(t){var e,r=ro[t];if(r)return r;for(e=t-1;!ro[e];)e--;for(r={line:(r=ro[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return ro[t]=r,r}function lo(t,e){var r=so(t),n=so(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function fo(t){to<no||(to>no&&(no=to,oo=[]),oo.push(t))}function ho(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function po(){var t,e,r,o,i;return t=to,(e=Po())!==a&&function(){var t;return n.substr(to,3).toLowerCase()===p?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(g)),t===a&&(n.substr(to,2).toLowerCase()===b?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(m))),t}()!==a&&Po()!==a?(123===n.charCodeAt(to)?(r=s,to++):(r=a,0===io&&fo(l)),r!==a&&Po()!==a&&(o=function(){var t,e,r,o;return t=to,(e=function(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=go())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=go())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=go())!==a?(59===n.charCodeAt(to)?(u=_,to++):(u=a,0===io&&fo(C)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a),o!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=A(e)),t=e}())===a&&(e=null),e!==a?((r=function(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=bo())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,i=z(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=bo())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,i=z(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=bo())!==a?(59===n.charCodeAt(to)?(u=_,to++):(u=a,0===io&&fo(C)),u!==a?(eo=o,i=z(i),o=i):(to=o,o=a)):(to=o,o=a),o!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=V(e)),t=e}())===a&&(r=null),r!==a?((o=mo())===a&&(o=null),o!==a?(eo=t,e=y(e,r,o),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}())!==a&&Po()!==a?(125===n.charCodeAt(to)?(i=f,to++):(i=a,0===io&&fo(d)),i!==a&&Po()!==a?(eo=t,t=e=h(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}function go(){var t,e,r,o;return io++,t=to,Po()!==a?(n.substr(to,6).toLowerCase()===k?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(L)),e===a&&(n.substr(to,11).toLowerCase()===E?(e=n.substr(to,11),to+=11):(e=a,0===io&&fo(T))),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=function(){var t,e;return io++,t=to,(e=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Do())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=Ln(r),t=e):(to=t,t=a)):(to=t,t=a),t}())!==a&&(eo=t,e=Sn(e)),(t=e)===a&&(t=to,(e=Do())!==a&&(eo=t,e=kn(e)),t=e),io--,t===a&&(e=a,0===io&&fo(An)),t}())!==a&&Po()!==a?(eo=t,t=F(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a?(n.substr(to,5).toLowerCase()===O?(e=n.substr(to,5),to+=5):(e=a,0===io&&fo(I)),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=function(){var t;return io++,(t=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Wo())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=Sn(r),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=Wo()),io--,t===a&&0===io&&fo(Yn),t}())!==a&&Po()!==a?(eo=t,t=F(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a?(n.substr(to,12).toLowerCase()===P?(e=n.substr(to,12),to+=12):(e=a,0===io&&fo(D)),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=Bo())!==a&&Po()!==a?(eo=t,t=N(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a?(n.substr(to,16).toLowerCase()===B?(e=n.substr(to,16),to+=16):(e=a,0===io&&fo(H)),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=Bo())!==a&&Po()!==a?(eo=t,t=N(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a?(n.substr(to,13).toLowerCase()===W?(e=n.substr(to,13),to+=13):(e=a,0===io&&fo(R)),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=Bo())!==a&&Po()!==a?(eo=t,t=N(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a?(n.substr(to,9).toLowerCase()===G?(e=n.substr(to,9),to+=9):(e=a,0===io&&fo(X)),e!==a&&Po()!==a?(61===n.charCodeAt(to)?(r=M,to++):(r=a,0===io&&fo(j)),r!==a&&Po()!==a&&(o=So())!==a&&Po()!==a?(eo=t,t=F(e,o)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)))))),io--,t===a&&0===io&&fo(S),t}function bo(){var t,e,r,o,i,u;return io++,t=to,Po()!==a&&(e=So())!==a&&Po()!==a?(r=to,91===n.charCodeAt(to)?(o=U,to++):(o=a,0===io&&fo($)),o!==a&&(i=Co())!==a?(93===n.charCodeAt(to)?(u=Y,to++):(u=a,0===io&&fo(Z)),u!==a?(eo=r,r=o=K(e,i)):(to=r,r=a)):(to=r,r=a),r===a&&(r=null),r!==a&&(o=Po())!==a?(eo=t,t=J(e,r)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,Po()!==a&&(e=Lo())!==a&&Po()!==a?(r=to,91===n.charCodeAt(to)?(o=U,to++):(o=a,0===io&&fo($)),o!==a&&(i=Co())!==a?(93===n.charCodeAt(to)?(u=Y,to++):(u=a,0===io&&fo(Z)),u!==a?(eo=r,r=o=K(e,i)):(to=r,r=a)):(to=r,r=a),r===a&&(r=null),r!==a&&(o=Po())!==a?(eo=t,t=Q(e,r)):(to=t,t=a)):(to=t,t=a)),io--,t===a&&0===io&&fo(q),t}function mo(){var t,e,r,o;if(t=[],e=to,(r=yo())!==a&&Po()!==a?(59===n.charCodeAt(to)?(o=_,to++):(o=a,0===io&&fo(C)),o!==a?(eo=e,e=r=tt(r)):(to=e,e=a)):(to=e,e=a),e!==a)for(;e!==a;)t.push(e),e=to,(r=yo())!==a&&Po()!==a?(59===n.charCodeAt(to)?(o=_,to++):(o=a,0===io&&fo(C)),o!==a?(eo=e,e=r=tt(r)):(to=e,e=a)):(to=e,e=a);else t=a;return t}function yo(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=vo())!==a&&Po()!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,o=i=tt(i)):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=vo())!==a&&Po()!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,o=i=tt(i)):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=vo())!==a&&(eo=o,i=tt(i)),(o=i)!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=et(e)),t=e}function vo(){var t;return(t=function(){var t,e,r,o,i,u;return t=to,e=to,(r=function(){var t,e,r;return t=to,(e=Po())!==a&&(r=function(){var t;return io++,n.substr(to,3)===ht?(t=ht,to+=3):(t=a,0===io&&fo(pt)),t===a&&(n.substr(to,3)===gt?(t=gt,to+=3):(t=a,0===io&&fo(bt))),io--,t===a&&0===io&&fo(dt),t}())!==a&&Po()!==a?(eo=t,e=ot(r),t=e):(to=t,t=a),t}())!==a&&(eo=e,r=tt(r)),(e=r)===a&&(e=to,(r=function(){var t,e,r,o,i;return t=to,(e=Po())!==a&&(r=ko())!==a&&Po()!==a&&(o=function(){var t,e;return t=to,(e=xo())===a&&(e=wo())===a&&(e=_o())===a&&(e=function(){var t;return io++,n.substr(to,4).toLowerCase()===he?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(pe)),t===a&&(n.substr(to,4).toLowerCase()===ge?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(be)),t===a&&(n.substr(to,4).toLowerCase()===me?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(ye)),t===a&&(n.substr(to,3).toLowerCase()===ve?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(xe))))),io--,t===a&&0===io&&fo(de),t}()),e!==a&&(eo=t,e=xt(e)),t=e}())!==a&&Po()!==a&&(i=ko())!==a&&Po()!==a?(eo=t,e=it(r,o,i),t=e):(to=t,t=a),t===a&&(t=to,(e=Po())!==a?(42===n.charCodeAt(to)?(r=at,to++):(r=a,0===io&&fo(ut)),r!==a&&Po()!==a&&(o=_o())!==a&&Po()!==a&&(i=ko())!==a&&Po()!==a?(eo=t,e=ct(o,i),t=e):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Po())!==a&&(r=ko())!==a&&Po()!==a&&(o=wo())!==a&&Po()!==a?(42===n.charCodeAt(to)?(i=at,to++):(i=a,0===io&&fo(ut)),i!==a&&Po()!==a?(eo=t,e=st(r,o),t=e):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Po())!==a&&(r=ko())!==a&&Po()!==a&&(o=xo())!==a&&Po()!==a?(42===n.charCodeAt(to)?(i=at,to++):(i=a,0===io&&fo(ut)),i!==a&&Po()!==a?(eo=t,e=st(r,o),t=e):(to=t,t=a)):(to=t,t=a)))),t}())!==a&&(eo=e,r=tt(r)),(e=r)===a&&(e=to,(r=function(){var t,e,r;return t=to,(e=Po())!==a&&(r=function(){var t;return io++,n.substr(to,3)===yt?(t=yt,to+=3):(t=a,0===io&&fo(vt)),io--,t===a&&0===io&&fo(mt),t}())!==a&&Po()!==a?(eo=t,e=ot(r),t=e):(to=t,t=a),t}())!==a&&(eo=e,r=tt(r)),e=r)),e!==a?(r=to,91===n.charCodeAt(to)?(o=U,to++):(o=a,0===io&&fo($)),o!==a&&(i=Co())!==a?(93===n.charCodeAt(to)?(u=Y,to++):(u=a,0===io&&fo(Z)),u!==a?(eo=r,o=rt(e,i),r=o):(to=r,r=a)):(to=r,r=a),r===a&&(r=null),r!==a?(eo=t,e=nt(e,r),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=function(){var t,e,r,o,i,u,c,h,p,g,b;return t=to,(e=Po())!==a&&(r=ko())!==a&&Po()!==a&&(o=function(){var t,e;return io++,t=to,n.substr(to,3).toLowerCase()===_e?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ce)),e===a&&(n.substr(to,4).toLowerCase()===Ae?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(Se)),e===a&&(n.substr(to,3).toLowerCase()===ke?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Le)),e===a&&(n.substr(to,5).toLowerCase()===Ee?(e=n.substr(to,5),to+=5):(e=a,0===io&&fo(Te)),e===a&&(n.substr(to,3).toLowerCase()===Me?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(je)),e===a&&(n.substr(to,3).toLowerCase()===Fe?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Oe)),e===a&&(n.substr(to,6).toLowerCase()===Ie?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(Pe)),e===a&&(n.substr(to,3).toLowerCase()===De?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ne)),e===a&&(n.substr(to,8).toLowerCase()===Be?(e=n.substr(to,8),to+=8):(e=a,0===io&&fo(He)),e===a&&(n.substr(to,6).toLowerCase()===We?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(Re)),e===a&&(n.substr(to,8).toLowerCase()===Ge?(e=n.substr(to,8),to+=8):(e=a,0===io&&fo(Xe)),e===a&&(n.substr(to,6).toLowerCase()===ze?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(Ve)),e===a&&(n.substr(to,4).toLowerCase()===qe?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(Ue)),e===a&&(n.substr(to,3).toLowerCase()===$e?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ye)),e===a&&(n.substr(to,3).toLowerCase()===Ze?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ke)))))))))))))))),e!==a&&(eo=t,e=Je(e)),io--,(t=e)===a&&(e=a,0===io&&fo(we)),t}())!==a&&Po()!==a&&(i=ko())!==a&&Po()!==a?(u=to,91===n.charCodeAt(to)?(c=U,to++):(c=a,0===io&&fo($)),c!==a&&(h=Co())!==a?(93===n.charCodeAt(to)?(p=Y,to++):(p=a,0===io&&fo(Z)),p!==a?(eo=u,c=lt(r,o,i,h),u=c):(to=u,u=a)):(to=u,u=a),u===a&&(u=null),u!==a&&(c=Po())!==a?(123===n.charCodeAt(to)?(h=s,to++):(h=a,0===io&&fo(l)),h!==a&&(p=Po())!==a?((g=mo())===a&&(g=null),g!==a&&Po()!==a?(125===n.charCodeAt(to)?(b=f,to++):(b=a,0===io&&fo(d)),b!==a&&Po()!==a?(eo=t,e=ft(r,o,i,u,g),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}()),t}function xo(){var t;return io++,n.substr(to,2)===_t?(t=_t,to+=2):(t=a,0===io&&fo(Ct)),t===a&&(n.substr(to,3)===At?(t=At,to+=3):(t=a,0===io&&fo(St)),t===a&&(n.substr(to,2)===kt?(t=kt,to+=2):(t=a,0===io&&fo(Lt)),t===a&&(n.substr(to,5)===Et?(t=Et,to+=5):(t=a,0===io&&fo(Tt)),t===a&&(n.substr(to,3)===Mt?(t=Mt,to+=3):(t=a,0===io&&fo(jt)),t===a&&(n.substr(to,2)===Ft?(t=Ft,to+=2):(t=a,0===io&&fo(Ot)),t===a&&(n.substr(to,4)===It?(t=It,to+=4):(t=a,0===io&&fo(Pt)),t===a&&(n.substr(to,2)===Dt?(t=Dt,to+=2):(t=a,0===io&&fo(Nt)),t===a&&(n.substr(to,3)===Bt?(t=Bt,to+=3):(t=a,0===io&&fo(Ht)))))))))),io--,t===a&&0===io&&fo(wt),t}function wo(){var t;return io++,n.substr(to,2)===Rt?(t=Rt,to+=2):(t=a,0===io&&fo(Gt)),t===a&&(n.substr(to,3)===Xt?(t=Xt,to+=3):(t=a,0===io&&fo(zt)),t===a&&(n.substr(to,2)===Vt?(t=Vt,to+=2):(t=a,0===io&&fo(qt)),t===a&&(n.substr(to,2)===Ut?(t=Ut,to+=2):(t=a,0===io&&fo($t)),t===a&&(n.substr(to,2)===Yt?(t=Yt,to+=2):(t=a,0===io&&fo(Zt)),t===a&&(n.substr(to,2).toLowerCase()===Kt?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(Jt))))))),io--,t===a&&0===io&&fo(Wt),t}function _o(){var t;return io++,n.substr(to,2)===te?(t=te,to+=2):(t=a,0===io&&fo(ee)),t===a&&(n.substr(to,3)===re?(t=re,to+=3):(t=a,0===io&&fo(ne)),t===a&&(n.substr(to,2)===oe?(t=oe,to+=2):(t=a,0===io&&fo(ie)),t===a&&(n.substr(to,2)===ae?(t=ae,to+=2):(t=a,0===io&&fo(ue)),t===a&&(n.substr(to,2)===ce?(t=ce,to+=2):(t=a,0===io&&fo(se)),t===a&&(n.substr(to,2).toLowerCase()===le?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(fe))))))),io--,t===a&&0===io&&fo(Qt),t}function Co(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=Ao())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,o=i=tt(i)):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=Ao())!==a?(44===n.charCodeAt(to)?(u=v,to++):(u=a,0===io&&fo(x)),u!==a?(eo=o,o=i=tt(i)):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=Ao())!==a&&(eo=o,i=tt(i)),(o=i)!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=Qe(e)),t=e}function Ao(){var t;return(t=function(){var t,e,r,o,i;return t=to,(e=Po())!==a&&(r=function(){var t;return io++,n.substr(to,5).toLowerCase()===cr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(sr)),t===a&&(n.substr(to,5).toLowerCase()===lr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(fr)),t===a&&(n.substr(to,2).toLowerCase()===dr?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(hr)),t===a&&(n.substr(to,3).toLowerCase()===pr?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(gr)),t===a&&(n.substr(to,9).toLowerCase()===br?(t=n.substr(to,9),to+=9):(t=a,0===io&&fo(mr)),t===a&&(n.substr(to,10).toLowerCase()===yr?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(vr)),t===a&&(n.substr(to,9).toLowerCase()===xr?(t=n.substr(to,9),to+=9):(t=a,0===io&&fo(wr)),t===a&&(n.substr(to,10).toLowerCase()===_r?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(Cr)),t===a&&(n.substr(to,11).toLowerCase()===Ar?(t=n.substr(to,11),to+=11):(t=a,0===io&&fo(Sr)),t===a&&(n.substr(to,12).toLowerCase()===kr?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Lr)),t===a&&(n.substr(to,12).toLowerCase()===Er?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Tr)),t===a&&(n.substr(to,13).toLowerCase()===Mr?(t=n.substr(to,13),to+=13):(t=a,0===io&&fo(jr)),t===a&&(n.substr(to,12).toLowerCase()===Fr?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Or)),t===a&&(n.substr(to,13).toLowerCase()===Ir?(t=n.substr(to,13),to+=13):(t=a,0===io&&fo(Pr)),t===a&&(n.substr(to,14).toLowerCase()===Dr?(t=n.substr(to,14),to+=14):(t=a,0===io&&fo(Nr)),t===a&&(n.substr(to,15).toLowerCase()===Br?(t=n.substr(to,15),to+=15):(t=a,0===io&&fo(Hr)),t===a&&(n.substr(to,7).toLowerCase()===Wr?(t=n.substr(to,7),to+=7):(t=a,0===io&&fo(Rr)),t===a&&(n.substr(to,5).toLowerCase()===Gr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(Xr)),t===a&&(n.substr(to,10).toLowerCase()===zr?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(Vr)))))))))))))))))))),io--,t===a&&0===io&&fo(ur),t}())!==a&&Po()!==a?(61===n.charCodeAt(to)?(o=M,to++):(o=a,0===io&&fo(j)),o!==a&&Po()!==a&&(i=ko())!==a&&Po()!==a?(eo=t,e=ar(r,i),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=function(){var t,e,r;return io++,t=to,(e=Po())!==a?(n.substr(to,8).toLowerCase()===er?(r=n.substr(to,8),to+=8):(r=a,0===io&&fo(rr)),r===a&&(n.substr(to,10).toLowerCase()===nr?(r=n.substr(to,10),to+=10):(r=a,0===io&&fo(or))),r!==a&&Po()!==a?(eo=t,e=ir(r),t=e):(to=t,t=a)):(to=t,t=a),io--,t===a&&(e=a,0===io&&fo(tr)),t}()),t}function So(){var t,e,r,o;return io++,t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=to,r=to,io++,34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),io--,o===a?r=void 0:(to=r,r=a),r!==a?(n.substr(to,2)===Zr?(o=Zr,to+=2):(o=a,0===io&&fo(Kr)),o===a&&(n.length>to?(o=n.charAt(to),to++):(o=a,0===io&&fo(Jr))),o!==a?(eo=e,r=Qr(o),e=r):(to=e,e=a)):(to=e,e=a);e!==a;)t.push(e),e=to,r=to,io++,34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),io--,o===a?r=void 0:(to=r,r=a),r!==a?(n.substr(to,2)===Zr?(o=Zr,to+=2):(o=a,0===io&&fo(Kr)),o===a&&(n.length>to?(o=n.charAt(to),to++):(o=a,0===io&&fo(Jr))),o!==a?(eo=e,r=Qr(o),e=r):(to=e,e=a)):(to=e,e=a);return t}())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,t=e=Yr(r)):(to=t,t=a)):(to=t,t=a),io--,t===a&&(e=a,0===io&&fo(qr)),t}function ko(){var t;return io++,(t=Lo())===a&&(t=So()),io--,t===a&&0===io&&fo(tn),t}function Lo(){var t,e,r;if(t=to,e=[],en.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(rn)),r!==a)for(;r!==a;)e.push(r),en.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(rn));else e=a;return e!==a&&(eo=t,e=nn(e)),t=e}function Eo(){var t,e;return io++,t=to,an.test(n.charAt(to))?(e=n.charAt(to),to++):(e=a,0===io&&fo(un)),e!==a&&(eo=t,e=Qr(e)),io--,(t=e)===a&&(e=a,0===io&&fo(on)),t}function To(){var t,e;return io++,t=to,sn.test(n.charAt(to))?(e=n.charAt(to),to++):(e=a,0===io&&fo(ln)),e!==a&&(eo=t,e=Qr(e)),io--,(t=e)===a&&(e=a,0===io&&fo(cn)),t}function Mo(){var t,e,r;return t=to,e=to,io++,n.substr(to,2)===hn?(r=hn,to+=2):(r=a,0===io&&fo(pn)),io--,r===a?e=void 0:(to=e,e=a),e!==a?(n.length>to?(r=n.charAt(to),to++):(r=a,0===io&&fo(Jr)),r!==a?(eo=t,t=e=Qr(r)):(to=t,t=a)):(to=t,t=a),t}function jo(){var t,e,r,o;if(t=to,(e=function(){var t;return n.substr(to,2)===fn?(t=fn,to+=2):(t=a,0===io&&fo(dn)),t}())!==a){for(r=[],o=Mo();o!==a;)r.push(o),o=Mo();r!==a&&(o=function(){var t;return n.substr(to,2)===hn?(t=hn,to+=2):(t=a,0===io&&fo(pn)),t}())!==a?(eo=t,t=e=gn(e,r,o)):(to=t,t=a)}else to=t,t=a;return t}function Fo(){var t;return xn.test(n.charAt(to))?(t=n.charAt(to),to++):(t=a,0===io&&fo(wn)),t}function Oo(){var t,e,r,o;if(t=to,(e=function(){var t;return n.substr(to,2)===bn?(t=bn,to+=2):(t=a,0===io&&fo(mn)),t===a&&(35===n.charCodeAt(to)?(t=yn,to++):(t=a,0===io&&fo(vn))),t}())!==a){for(r=[],o=Fo();o!==a;)r.push(o),o=Fo();r!==a?(eo=t,t=e=_n(e,r)):(to=t,t=a)}else to=t,t=a;return t}function Io(){var t;return io++,(t=Oo())===a&&(t=jo()),io--,t===a&&0===io&&fo(Cn),t}function Po(){var t,e;for(t=[],(e=Eo())===a&&(e=To())===a&&(e=Io());e!==a;)t.push(e),(e=Eo())===a&&(e=To())===a&&(e=Io());return t}function Do(){var t;return(t=function(){var t,e,r,o,i;return t=to,e=to,(r=No())!==a?(46===n.charCodeAt(to)?(o=jn,to++):(o=a,0===io&&fo(Fn)),o!==a&&(i=No())!==a?e=r=[r,o,i]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=On(e)),t=e}())===a&&(t=No()),t}function No(){var t,e,r;if(t=to,e=[],En.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(Tn)),r!==a)for(;r!==a;)e.push(r),En.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(Tn));else e=a;return e!==a&&(eo=t,e=Mn(e)),t=e}function Bo(){var t,e;return io++,t=to,(e=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Ho())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=Sn(r),t=e):(to=t,t=a)):(to=t,t=a),t}())!==a&&(eo=t,e=Pn(e)),(t=e)===a&&(t=to,(e=Ho())!==a&&(eo=t,e=Dn(e)),t=e),io--,t===a&&(e=a,0===io&&fo(In)),t}function Ho(){var t;return n.substr(to,4).toLowerCase()===Nn?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(Bn)),t===a&&(n.substr(to,5).toLowerCase()===Hn?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(Wn)),t===a&&(n.substr(to,2).toLowerCase()===Rn?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(Gn)),t===a&&(n.substr(to,3).toLowerCase()===Xn?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(zn)),t===a&&(48===n.charCodeAt(to)?(t=Vn,to++):(t=a,0===io&&fo(qn)),t===a&&(49===n.charCodeAt(to)?(t=Un,to++):(t=a,0===io&&fo($n))))))),t}function Wo(){var t,e;return t=to,(e=Do())!==a&&(eo=t,e=Zn(e)),(t=e)===a&&(t=to,n.substr(to,4).toLowerCase()===Kn?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(Jn)),e!==a&&(eo=t,e=Qn(e)),t=e),t}if((i=c())!==a&&to===n.length)return i;throw i!==a&&to<n.length&&fo({type:"end"}),ho(oo,no<n.length?n.charAt(no):null,no<n.length?lo(no,no+1):lo(no,no))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){var n,o,i;o=[r(9),r(10)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:gn},c=gn,s=function(r,n){return n.entities=function e(r,n,o){return o||(o={}),(n||[]).forEach((function(n){n.forEach((function(n){Wn(r,n.from,o)&&r.push(Rn(n.from)),n.arcs&&(o[n.to]=!0,t(r,e(r,n.arcs,o)),delete o[n.to]),Wn(r,n.to,o)&&r.push(Rn(n.to))}))})),r}(n.entities||[],n.arcs),n=t({meta:e.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},l=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},f=",",d=cn(",",!1),h=function(t){return t},p=";",g=cn(";",!1),b=function(e){return e[0].concat(e[1]).reduce(t,{})},m="hscale",y=cn("hscale",!0),v="arcgradient",x=cn("arcgradient",!0),w="=",_=cn("=",!1),C=function(t,r){return e.nameValue2Option(t,r)},A="width",S=cn("width",!0),k="wordwraparcs",L=cn("wordwraparcs",!0),E=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))},T="wordwrapentities",M=cn("wordwrapentities",!0),j="wordwrapboxes",F=cn("wordwrapboxes",!0),O="watermark",I=cn("watermark",!0),P=function(t){return t},D=function(t){return t[0].concat(t[1])},N=ln("entity"),B=":",H=cn(":",!1),W=function(t,e){return e},R=function(t,e){var r=Rn(t);return e&&(r.label=e),r},G=function(t){return t},X=function(t){return t[0].concat(t[1])},z=function(t){return t},V=function(t){return t},q=function(t){return t},U=function(t,e){return e},$=function(t,e){return e&&(t.label=e),t},Y=function(t){return{kind:t}},Z=function(t,e,r){return{kind:e,from:t,to:r}},K="*",J=cn("*",!1),Q=function(t,e){return{kind:t,from:"*",to:e}},tt=function(t,e){return{kind:e,from:t,to:"*"}},et=function(t,e,r,n){return n},rt="{",nt=cn("{",!1),ot="}",it=cn("}",!1),at=function(t,e,r,n,o){var i={kind:e,from:t,to:r,arcs:o};return n&&(i.label=n),i},ut=ln("empty row"),ct="|||",st=cn("|||",!1),lt="...",ft=cn("...",!1),dt=ln("---"),ht="---",pt=cn("---",!1),gt=function(t){return t.toLowerCase()},bt=ln("bi-directional arrow"),mt="--",yt=cn("--",!1),vt="<->",xt=cn("<->",!1),wt="==",_t=cn("==",!1),Ct="<<=>>",At=cn("<<=>>",!1),St="<=>",kt=cn("<=>",!1),Lt="..",Et=cn("..",!1),Tt="<<>>",Mt=cn("<<>>",!1),jt="::",Ft=cn("::",!1),Ot="<:>",It=cn("<:>",!1),Pt=ln("left to right arrow"),Dt="->",Nt=cn("->",!1),Bt="=>>",Ht=cn("=>>",!1),Wt="=>",Rt=cn("=>",!1),Gt=">>",Xt=cn(">>",!1),zt=":>",Vt=cn(":>",!1),qt="-x",Ut=cn("-x",!0),$t=ln("right to left arrow"),Yt="<-",Zt=cn("<-",!1),Kt="<<=",Jt=cn("<<=",!1),Qt="<=",te=cn("<=",!1),ee="<<",re=cn("<<",!1),ne="<:",oe=cn("<:",!1),ie="x-",ae=cn("x-",!0),ue=ln("box"),ce="note",se=cn("note",!0),le="abox",fe=cn("abox",!0),de="rbox",he=cn("rbox",!0),pe="box",ge=cn("box",!0),be=ln("inline expression"),me="alt",ye=cn("alt",!0),ve="else",xe=cn("else",!0),we="opt",_e=cn("opt",!0),Ce="break",Ae=cn("break",!0),Se="par",ke=cn("par",!0),Le="seq",Ee=cn("seq",!0),Te="strict",Me=cn("strict",!0),je="neg",Fe=cn("neg",!0),Oe="critical",Ie=cn("critical",!0),Pe="ignore",De=cn("ignore",!0),Ne="consider",Be=cn("consider",!0),He="assert",We=cn("assert",!0),Re="loop",Ge=cn("loop",!0),Xe="ref",ze=cn("ref",!0),Ve="exc",qe=cn("exc",!0),Ue=function(t){return t.toLowerCase()},$e=ln("double quoted string"),Ye='"',Ze=cn('"',!1),Ke=function(t){return t.join("")},Je='\\"',Qe=cn('\\"',!1),tr={type:"any"},er=function(t){return t},rr=function(t){return t.join("").trim()},nr=ln("identifier"),or=/^[^;, "\t\n\r=\-><:{*]/,ir=sn([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ar=function(t){return t.join("")},ur=ln("whitespace"),cr=/^[ \t]/,sr=sn([" ","\t"],!1,!1),lr=ln("lineend"),fr=/^[\r\n]/,dr=sn(["\r","\n"],!1,!1),hr="/*",pr=cn("/*",!1),gr="*/",br=cn("*/",!1),mr=function(t,e,r){return t+e.join("")+r},yr="//",vr=cn("//",!1),xr="#",wr=cn("#",!1),_r=/^[^\r\n]/,Cr=sn(["\r","\n"],!0,!1),Ar=function(t,e){return t+e.join("")},Sr=ln("comment"),kr=ln("number"),Lr=function(t){return t},Er=function(t){return t.toString()},Tr=function(t){return t.toString()},Mr=/^[0-9]/,jr=sn([["0","9"]],!1,!1),Fr=function(t){return parseInt(t.join(""),10)},Or=".",Ir=cn(".",!1),Pr=function(t){return parseFloat(t.join(""))},Dr=ln("boolean"),Nr=function(t){return t},Br=function(t){return t.toString()},Hr="true",Wr=cn("true",!0),Rr="false",Gr=cn("false",!0),Xr="on",zr=cn("on",!0),Vr="off",qr=cn("off",!0),Ur="0",$r=cn("0",!1),Yr="1",Zr=cn("1",!1),Kr=ln("size"),Jr=function(t){return t.toString()},Qr="auto",tn=cn("auto",!0),en=function(t){return t.toLowerCase()},rn=0,nn=[{line:1,column:1}],on=0,an=[],un=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');c=u[o.startRule]}function cn(t,e){return{type:"literal",text:t,ignoreCase:e}}function sn(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function ln(t){return{type:"other",description:t}}function fn(t){var e,r=nn[t];if(r)return r;for(e=t-1;!nn[e];)e--;for(r={line:(r=nn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return nn[t]=r,r}function dn(t,e){var r=fn(t),n=fn(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function hn(t){rn<on||(rn>on&&(on=rn,an=[]),an.push(t))}function pn(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function gn(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t,e,r,o;return t=rn,(e=function(){var t,e,r,o,i;for(rn,t=rn,e=[],r=rn,(o=bn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=bn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=bn())!==a?(59===n.charCodeAt(rn)?(i=p,rn++):(i=a,0===un&&hn(g)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a),r!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=b(t)),t}())===a&&(e=null),e!==a?((r=function(){var t,e,r,o,i;for(rn,t=rn,e=[],r=rn,(o=mn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=P(o),r=o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=mn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=P(o),r=o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=mn())!==a?(59===n.charCodeAt(rn)?(i=p,rn++):(i=a,0===un&&hn(g)),i!==a?(o=P(o),r=o):(rn=r,r=a)):(rn=r,r=a),r!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=D(t)),t}())===a&&(r=null),r!==a?((o=yn())===a&&(o=null),o!==a?(e=l(e,r,o),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&In()!==a?t=e=s(e,r):(rn=t,t=a),t}function bn(){var t,e,r,o;return t=rn,In()!==a?(n.substr(rn,6).toLowerCase()===m?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(y)),e===a&&(n.substr(rn,11).toLowerCase()===v?(e=n.substr(rn,11),rn+=11):(e=a,0===un&&hn(x))),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=function(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ye,rn++):(e=a,0===un&&hn(Ze)),e!==a&&(r=Pn())!==a?(34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),o!==a?(e=Tr(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&(e=Lr(e)),(t=e)===a&&(t=rn,(e=Pn())!==a&&(e=Er(e)),t=e),un--,t===a&&(e=a,0===un&&hn(kr)),t}())!==a&&In()!==a?t=C(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,In()!==a?(n.substr(rn,5).toLowerCase()===A?(e=n.substr(rn,5),rn+=5):(e=a,0===un&&hn(S)),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=function(){var t;return un++,(t=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ye,rn++):(e=a,0===un&&hn(Ze)),e!==a&&(r=Hn())!==a?(34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),o!==a?(e=Lr(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())===a&&(t=Hn()),un--,t===a&&0===un&&hn(Kr),t}())!==a&&In()!==a?t=C(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,In()!==a?(n.substr(rn,12).toLowerCase()===k?(e=n.substr(rn,12),rn+=12):(e=a,0===un&&hn(L)),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=Nn())!==a&&In()!==a?t=E(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,In()!==a?(n.substr(rn,16).toLowerCase()===T?(e=n.substr(rn,16),rn+=16):(e=a,0===un&&hn(M)),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=Nn())!==a&&In()!==a?t=E(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,In()!==a?(n.substr(rn,13).toLowerCase()===j?(e=n.substr(rn,13),rn+=13):(e=a,0===un&&hn(F)),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=Nn())!==a&&In()!==a?t=E(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,In()!==a?(n.substr(rn,9).toLowerCase()===O?(e=n.substr(rn,9),rn+=9):(e=a,0===un&&hn(I)),e!==a&&In()!==a?(61===n.charCodeAt(rn)?(r=w,rn++):(r=a,0===un&&hn(_)),r!==a&&In()!==a&&(o=Sn())!==a&&In()!==a?t=C(e,o):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)))))),t}function mn(){var t,e,r,o,i;return un++,t=rn,In()!==a&&(e=kn())!==a&&In()!==a?(r=rn,58===n.charCodeAt(rn)?(o=B,rn++):(o=a,0===un&&hn(H)),o!==a&&In()!==a&&(i=An())!==a&&In()!==a?r=o=W(e,i):(rn=r,r=a),r===a&&(r=null),r!==a?t=R(e,r):(rn=t,t=a)):(rn=t,t=a),un--,t===a&&0===un&&hn(N),t}function yn(){var t,e,r,o;if(t=[],e=rn,(r=vn())!==a&&In()!==a?(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o!==a?e=r=G(r):(rn=e,e=a)):(rn=e,e=a),e!==a)for(;e!==a;)t.push(e),e=rn,(r=vn())!==a&&In()!==a?(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o!==a?e=r=G(r):(rn=e,e=a)):(rn=e,e=a);else t=a;return t}function vn(){var t,e,r,o,i;for(rn,t=rn,e=[],r=rn,(o=xn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?r=o=G(o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=xn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?r=o=G(o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=xn())!==a&&(o=G(o)),(r=o)!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=X(t)),t}function xn(){var t;return(t=function(){var t,e,r,o,i;return t=rn,e=rn,(r=function(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t;return un++,n.substr(rn,3)===ct?(t=ct,rn+=3):(t=a,0===un&&hn(st)),t===a&&(n.substr(rn,3)===lt?(t=lt,rn+=3):(t=a,0===un&&hn(ft))),un--,t===a&&0===un&&hn(ut),t}())!==a&&In()!==a?(e=Y(r),t=e):(rn=t,t=a),t}())!==a&&(r=z(r)),(e=r)===a&&(e=rn,(r=function(){var t,e,r,o,i;return t=rn,(e=In())!==a&&(r=kn())!==a&&In()!==a&&(o=function(){var t;return rn,(t=wn())===a&&(t=_n())===a&&(t=Cn())===a&&(t=function(){var t;return un++,n.substr(rn,4).toLowerCase()===ce?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(se)),t===a&&(n.substr(rn,4).toLowerCase()===le?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(fe)),t===a&&(n.substr(rn,4).toLowerCase()===de?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(he)),t===a&&(n.substr(rn,3).toLowerCase()===pe?(t=n.substr(rn,3),rn+=3):(t=a,0===un&&hn(ge))))),un--,t===a&&0===un&&hn(ue),t}()),t!==a&&(t=gt(t)),t}())!==a&&In()!==a&&(i=kn())!==a&&In()!==a?(e=Z(r,o,i),t=e):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(42===n.charCodeAt(rn)?(r=K,rn++):(r=a,0===un&&hn(J)),r!==a&&In()!==a&&(o=Cn())!==a&&In()!==a&&(i=kn())!==a&&In()!==a?(e=Q(o,i),t=e):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a&&(r=kn())!==a&&In()!==a&&(o=_n())!==a&&In()!==a?(42===n.charCodeAt(rn)?(i=K,rn++):(i=a,0===un&&hn(J)),i!==a&&In()!==a?(e=tt(r,o),t=e):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a&&(r=kn())!==a&&In()!==a&&(o=wn())!==a&&In()!==a?(42===n.charCodeAt(rn)?(i=K,rn++):(i=a,0===un&&hn(J)),i!==a&&In()!==a?(e=tt(r,o),t=e):(rn=t,t=a)):(rn=t,t=a)))),t}())!==a&&(r=V(r)),(e=r)===a&&(e=rn,(r=function(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t;return un++,n.substr(rn,3)===ht?(t=ht,rn+=3):(t=a,0===un&&hn(pt)),un--,t===a&&0===un&&hn(dt),t}())!==a&&In()!==a?(e=Y(r),t=e):(rn=t,t=a),t}())!==a&&(r=q(r)),e=r)),e!==a?(r=rn,58===n.charCodeAt(rn)?(o=B,rn++):(o=a,0===un&&hn(H)),o!==a&&In()!==a&&(i=An())!==a&&In()!==a?(o=U(e,i),r=o):(rn=r,r=a),r===a&&(r=null),r!==a?(e=$(e,r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())===a&&(t=function(){var t,e,r,o,i,u,c,s,l;return t=rn,(e=In())!==a&&(r=kn())!==a&&In()!==a&&(o=function(){var t,e;return un++,t=rn,n.substr(rn,3).toLowerCase()===me?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(ye)),e===a&&(n.substr(rn,4).toLowerCase()===ve?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(xe)),e===a&&(n.substr(rn,3).toLowerCase()===we?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(_e)),e===a&&(n.substr(rn,5).toLowerCase()===Ce?(e=n.substr(rn,5),rn+=5):(e=a,0===un&&hn(Ae)),e===a&&(n.substr(rn,3).toLowerCase()===Se?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(ke)),e===a&&(n.substr(rn,3).toLowerCase()===Le?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(Ee)),e===a&&(n.substr(rn,6).toLowerCase()===Te?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(Me)),e===a&&(n.substr(rn,3).toLowerCase()===je?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(Fe)),e===a&&(n.substr(rn,8).toLowerCase()===Oe?(e=n.substr(rn,8),rn+=8):(e=a,0===un&&hn(Ie)),e===a&&(n.substr(rn,6).toLowerCase()===Pe?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(De)),e===a&&(n.substr(rn,8).toLowerCase()===Ne?(e=n.substr(rn,8),rn+=8):(e=a,0===un&&hn(Be)),e===a&&(n.substr(rn,6).toLowerCase()===He?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(We)),e===a&&(n.substr(rn,4).toLowerCase()===Re?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(Ge)),e===a&&(n.substr(rn,3).toLowerCase()===Xe?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(ze)),e===a&&(n.substr(rn,3).toLowerCase()===Ve?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(qe)))))))))))))))),e!==a&&(e=Ue(e)),un--,(t=e)===a&&(e=a,0===un&&hn(be)),t}())!==a&&In()!==a&&(i=kn())!==a&&In()!==a?(u=rn,58===n.charCodeAt(rn)?(c=B,rn++):(c=a,0===un&&hn(H)),c!==a&&In()!==a&&(s=An())!==a&&In()!==a?(c=et(r,o,i,s),u=c):(rn=u,u=a),u===a&&(u=null),u!==a?(123===n.charCodeAt(rn)?(c=rt,rn++):(c=a,0===un&&hn(nt)),c!==a&&In()!==a?((s=yn())===a&&(s=null),s!==a&&In()!==a?(125===n.charCodeAt(rn)?(l=ot,rn++):(l=a,0===un&&hn(it)),l!==a&&In()!==a?(e=at(r,o,i,u,s),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t}()),t}function wn(){var t;return un++,n.substr(rn,2)===mt?(t=mt,rn+=2):(t=a,0===un&&hn(yt)),t===a&&(n.substr(rn,3)===vt?(t=vt,rn+=3):(t=a,0===un&&hn(xt)),t===a&&(n.substr(rn,2)===wt?(t=wt,rn+=2):(t=a,0===un&&hn(_t)),t===a&&(n.substr(rn,5)===Ct?(t=Ct,rn+=5):(t=a,0===un&&hn(At)),t===a&&(n.substr(rn,3)===St?(t=St,rn+=3):(t=a,0===un&&hn(kt)),t===a&&(n.substr(rn,2)===Lt?(t=Lt,rn+=2):(t=a,0===un&&hn(Et)),t===a&&(n.substr(rn,4)===Tt?(t=Tt,rn+=4):(t=a,0===un&&hn(Mt)),t===a&&(n.substr(rn,2)===jt?(t=jt,rn+=2):(t=a,0===un&&hn(Ft)),t===a&&(n.substr(rn,3)===Ot?(t=Ot,rn+=3):(t=a,0===un&&hn(It)))))))))),un--,t===a&&0===un&&hn(bt),t}function _n(){var t;return un++,n.substr(rn,2)===Dt?(t=Dt,rn+=2):(t=a,0===un&&hn(Nt)),t===a&&(n.substr(rn,3)===Bt?(t=Bt,rn+=3):(t=a,0===un&&hn(Ht)),t===a&&(n.substr(rn,2)===Wt?(t=Wt,rn+=2):(t=a,0===un&&hn(Rt)),t===a&&(n.substr(rn,2)===Gt?(t=Gt,rn+=2):(t=a,0===un&&hn(Xt)),t===a&&(n.substr(rn,2)===zt?(t=zt,rn+=2):(t=a,0===un&&hn(Vt)),t===a&&(n.substr(rn,2).toLowerCase()===qt?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(Ut))))))),un--,t===a&&0===un&&hn(Pt),t}function Cn(){var t;return un++,n.substr(rn,2)===Yt?(t=Yt,rn+=2):(t=a,0===un&&hn(Zt)),t===a&&(n.substr(rn,3)===Kt?(t=Kt,rn+=3):(t=a,0===un&&hn(Jt)),t===a&&(n.substr(rn,2)===Qt?(t=Qt,rn+=2):(t=a,0===un&&hn(te)),t===a&&(n.substr(rn,2)===ee?(t=ee,rn+=2):(t=a,0===un&&hn(re)),t===a&&(n.substr(rn,2)===ne?(t=ne,rn+=2):(t=a,0===un&&hn(oe)),t===a&&(n.substr(rn,2).toLowerCase()===ie?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(ae))))))),un--,t===a&&0===un&&hn($t),t}function An(){var t,e;return(t=Sn())===a&&((e=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=f,rn++):(o=a,0===un&&hn(d)),o===a&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o===a&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=a,0===un&&hn(nt)))),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr)),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);e!==a;)t.push(e),e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=f,rn++):(o=a,0===un&&hn(d)),o===a&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o===a&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=a,0===un&&hn(nt)))),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr)),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);return t}())!==a&&(e=rr(e)),t=e),t}function Sn(){var t,e,r,o;return un++,t=rn,34===n.charCodeAt(rn)?(e=Ye,rn++):(e=a,0===un&&hn(Ze)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.substr(rn,2)===Je?(o=Je,rn+=2):(o=a,0===un&&hn(Qe)),o===a&&(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr))),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);e!==a;)t.push(e),e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.substr(rn,2)===Je?(o=Je,rn+=2):(o=a,0===un&&hn(Qe)),o===a&&(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr))),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);return t}())!==a?(34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),o!==a?t=e=Ke(r):(rn=t,t=a)):(rn=t,t=a),un--,t===a&&(e=a,0===un&&hn($e)),t}function kn(){var t,e,r;if(un++,t=rn,e=[],or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(ir)),r!==a)for(;r!==a;)e.push(r),or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(ir));else e=a;return e!==a&&(e=ar(e)),(t=e)===a&&(t=Sn()),un--,t===a&&(e=a,0===un&&hn(nr)),t}function Ln(){var t,e;return un++,t=rn,cr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(sr)),e!==a&&(e=er(e)),un--,(t=e)===a&&(e=a,0===un&&hn(ur)),t}function En(){var t,e;return un++,t=rn,fr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(dr)),e!==a&&(e=er(e)),un--,(t=e)===a&&(e=a,0===un&&hn(lr)),t}function Tn(){var t,e,r;return t=rn,e=rn,un++,n.substr(rn,2)===gr?(r=gr,rn+=2):(r=a,0===un&&hn(br)),un--,r===a?e=void 0:(rn=e,e=a),e!==a?(n.length>rn?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(tr)),r!==a?t=e=er(r):(rn=t,t=a)):(rn=t,t=a),t}function Mn(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===hr?(t=hr,rn+=2):(t=a,0===un&&hn(pr)),t}())!==a){for(r=[],o=Tn();o!==a;)r.push(o),o=Tn();r!==a&&(o=function(){var t;return n.substr(rn,2)===gr?(t=gr,rn+=2):(t=a,0===un&&hn(br)),t}())!==a?t=e=mr(e,r,o):(rn=t,t=a)}else rn=t,t=a;return t}function jn(){var t;return _r.test(n.charAt(rn))?(t=n.charAt(rn),rn++):(t=a,0===un&&hn(Cr)),t}function Fn(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===yr?(t=yr,rn+=2):(t=a,0===un&&hn(vr)),t===a&&(35===n.charCodeAt(rn)?(t=xr,rn++):(t=a,0===un&&hn(wr))),t}())!==a){for(r=[],o=jn();o!==a;)r.push(o),o=jn();r!==a?t=e=Ar(e,r):(rn=t,t=a)}else rn=t,t=a;return t}function On(){var t;return un++,(t=Fn())===a&&(t=Mn()),un--,t===a&&0===un&&hn(Sr),t}function In(){var t,e;for(t=[],(e=Ln())===a&&(e=En())===a&&(e=On());e!==a;)t.push(e),(e=Ln())===a&&(e=En())===a&&(e=On());return t}function Pn(){var t,e,r,o,i;return e=rn,(r=Dn())!==a?(46===n.charCodeAt(rn)?(o=Or,rn++):(o=a,0===un&&hn(Ir)),o!==a&&(i=Dn())!==a?e=r=[r,o,i]:(rn=e,e=a)):(rn=e,e=a),e!==a&&(e=Pr(e)),(t=e)===a&&(t=Dn()),t}function Dn(){var t,e;if(rn,t=[],Mr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(jr)),e!==a)for(;e!==a;)t.push(e),Mr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(jr));else t=a;return t!==a&&(t=Fr(t)),t}function Nn(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ye,rn++):(e=a,0===un&&hn(Ze)),e!==a&&(r=Bn())!==a?(34===n.charCodeAt(rn)?(o=Ye,rn++):(o=a,0===un&&hn(Ze)),o!==a?(e=Lr(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&(e=Nr(e)),(t=e)===a&&(t=rn,(e=Bn())!==a&&(e=Br(e)),t=e),un--,t===a&&(e=a,0===un&&hn(Dr)),t}function Bn(){var t;return n.substr(rn,4).toLowerCase()===Hr?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(Wr)),t===a&&(n.substr(rn,5).toLowerCase()===Rr?(t=n.substr(rn,5),rn+=5):(t=a,0===un&&hn(Gr)),t===a&&(n.substr(rn,2).toLowerCase()===Xr?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(zr)),t===a&&(n.substr(rn,3).toLowerCase()===Vr?(t=n.substr(rn,3),rn+=3):(t=a,0===un&&hn(qr)),t===a&&(48===n.charCodeAt(rn)?(t=Ur,rn++):(t=a,0===un&&hn($r)),t===a&&(49===n.charCodeAt(rn)?(t=Yr,rn++):(t=a,0===un&&hn(Zr))))))),t}function Hn(){var t,e;return t=rn,(e=Pn())!==a&&(e=Jr(e)),(t=e)===a&&(t=rn,n.substr(rn,4).toLowerCase()===Qr?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(tn)),e!==a&&(e=en(e)),t=e),t}function Wn(t,r,n){return!(e.entityExists(t,r)||!0===n[r])}function Rn(t){return{name:t}}if((i=c())!==a&&rn===n.length)return i;throw i!==a&&rn<n.length&&hn({type:"end"}),pn(an,on<n.length?n.charAt(on):null,on<n.length?dn(on,on+1):dn(on,on))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(5)),a=n(r(2)),u=r(22),c=n(r(3)),s=r(26),l=o(r(15)),f=o(r(13)),d=o(r(34)),h=o(r(12)),p=o(r(36)),g=o(r(38)),b=o(r(39)),m=o(r(0)),y=o(r(8)),v=new s.Thing(0),x=3,w=38,_=0,C=Object.seal({arcRowHeight:w,arcGradient:_,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),A=[];function S(t,e,r,n){var o;C.document=p.bootstrap(e,r,l.get(),d.getMarkerDefs(l.get(),t),n),C.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,C.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,y.init(C.document),C.layers={lifeline:(o=C.document).getElementById(l.get("_lifelines")),sequence:o.getElementById(l.get("_sequence")),notes:o.getElementById(l.get("_notes")),inline:o.getElementById(l.get("_arcspans")),watermark:o.getElementById(l.get("_watermark"))},C.maxDepth=t.depth,function(t,e){v=new s.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=w,t.arcGradient=_,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+w,t.arcGradient=parseInt(e.arcgradient,10)+_);t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(C,t.options)}function k(t){var e,r,n;E(t.entities,0,t.options),b.clear(v.getDims().height,C.arcRowHeight),e=t.arcs,r=t.entities,n=t.options,A=[],F(r,"arcrow",C.arcRowHeight,b.get(-1).y).forEach((function(t){C.layers.lifeline.appendChild(t)})),function(t,e,r){var n=0;t.forEach((function(t,o){t.every((function(t){return t.isVirtual}))?b.set(o,Math.max(b.get(o).height,M(t,e,r))):(b.set(o,Math.max(b.get(o).height,M(t,e,r)),n),n++)}))}(e,r,n),e.forEach((function(t,e){!function(t,e,r,n){var o="arcrow",i=[];t.forEach((function(t){var u={};switch(a.default(t.kind)){case"empty":u=O(t,b.get(e).y),"..."===t.kind&&(o="arcrowomit"),i.push({layer:C.layers.sequence,element:u});break;case"box":u=D(v.getOAndD(t.from,t.to),t,b.get(e).y,n),i.push({title:t.title,layer:C.layers.notes,element:u});break;case"inline_expression":u=j(t,b.get(e).y),i.push({layer:C.layers.notes,element:u}),A.push({arc:t,rownum:e});break;default:u=T(t,r,i,e,n)}})),F(r,o,b.get(e).height,b.get(e).y).forEach((function(t){C.layers.lifeline.appendChild(t)})),i.forEach((function(t){t.element&&(t.title&&t.element.appendChild(m.createTitle(t.title)),t.layer.appendChild(t.element))}))}(t,e,r,n)})),A.forEach((function(t){var e,r,n,o;C.layers.inline.appendChild((e=t,r=b.get(t.rownum).y,n=b.get(e.rownum).y,o=b.get(e.rownum+e.arc.numberofrows+1).y-n,e.arc.label="",function(t,e,r,n){var o=2*C.maxDepth*c.default.LINE_WIDTH,i=t.to-t.from+v.getDims().interEntitySpacing-2*c.default.LINE_WIDTH-o,a=t.from-(v.getDims().interEntitySpacing-2*c.default.LINE_WIDTH-o)/2,u=2*(C.maxDepth-e.depth)*c.default.LINE_WIDTH;return m.createRect({width:i+2*u,height:r||C.arcRowHeight-2*c.default.LINE_WIDTH,x:a-u,y:n},{class:"box inline_expression "+e.kind,color:e.linecolor,bgColor:e.textbgcolor})}(v.getOAndD(e.arc.from,e.arc.to),e.arc,o,r)))})),C.mirrorEntitiesOnBottom&&function(t,e){var r=b.getLast().y+(b.getLast().height+C.arcRowHeight)/2;F(t,"arcrow",C.arcRowHeight,r).forEach((function(t){C.layers.lifeline.appendChild(t)})),E(t,r+C.arcRowHeight/2,e)}(t.entities,t.options)}function L(t){var e,r,n=function(t){var e=g.determineDepthCorrection(t.depth,c.default.LINE_WIDTH),r=b.getLast(),n={width:t.entities.length*v.getDims().interEntitySpacing+e,height:Boolean(C.mirrorEntitiesOnBottom)?2*v.getDims().height+r.y+r.height+2*x:r.y+r.height/2+2*x,horizontaltransform:(v.getDims().interEntitySpacing+e-v.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:x,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);e=n,(r=C.document.getElementById(l.get("_background")))&&r.appendChild(m.createRect(e,{class:"bglayer"})),function(t){var e=C.document.getElementById(l.get()),r=C.document.getElementById(l.get("_body"));r&&e&&(r.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&!0===t.autoscale?m.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):m.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}))}(n=function(t,e){t.watermark&&function(t,e){C.layers.watermark.appendChild(m.createDiagonalText(t,e,"watermark"))}(t.watermark,e);t.width&&"auto"!==t.width&&(e=g.scaleCanvasToWidth(t.width,e));return e}(t.options,n))}function E(t,e,r){C.layers.sequence.appendChild(v.renderEntities(t,e,r)),C.arcEndX=v.getDims().entityXHWM-v.getDims().interEntitySpacing+v.getDims().width}function T(t,e,r,n,o){var a=m.createGroup();return t.from&&t.to&&("*"===t.to?(!function(t,e,r,n,o){var i=0,a=t.label,u=v.getX(t.from);t.label="",e.forEach((function(e){var a={};e.name!==t.from&&(i=v.getX(e.name),a=I(t,u,i,n,o),r.push({layer:C.layers.sequence,element:a}))})),t.label=a}(t,e,r,n,o),a=h.createLabel(t,{x:0,y:b.get(n).y,width:C.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},i.default(o))),r.push({title:t.title,layer:C.layers.sequence,element:a})):(a=I(t,v.getX(t.from),v.getX(t.to),n,o),r.push({title:t.title,layer:C.layers.sequence,element:a}))),a}function M(t,e,r){var n=0;return t.forEach((function(t){var o;switch(a.default(t.kind)){case"empty":o=O(t,0);break;case"box":o=D(v.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":o=j(t,0);break;default:var u=i.default(t);u.arcskip=0,o=T(u,e,[],0,r)}n=Math.max(n,y.getBBox(o).height+2*c.default.LINE_WIDTH)})),n}function j(t,e){var r=v.getOAndD(t.from,t.to),n=e>0,o=2*C.maxDepth*c.default.LINE_WIDTH,i=r.to-r.from+(v.getDims().interEntitySpacing-2*c.default.LINE_WIDTH)-7-c.default.LINE_WIDTH,a=r.from-(v.getDims().interEntitySpacing-3*c.default.LINE_WIDTH-o)/2-2*(C.maxDepth-t.depth)*c.default.LINE_WIDTH,u=m.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var s=h.createLabel(t,{x:a+c.default.LINE_WIDTH-i/2,y:e+C.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordwraparcs:C.wordWrapArcs}),l=y.getBBox(s),f=Math.max(l.height+2*c.default.LINE_WIDTH,C.arcRowHeight/2-2*c.default.LINE_WIDTH),d=Math.min(l.width+2*c.default.LINE_WIDTH,i),p=m.createEdgeRemark({width:d-c.default.LINE_WIDTH+7,height:f,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return u.appendChild(p),u.appendChild(s),u}function F(t,e,r,n){return r<C.arcRowHeight&&(r=C.arcRowHeight),t.map((function(t){var o=m.createLine({xFrom:v.getX(t.name),yFrom:0-r/2+(n||0),xTo:v.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:"+t.linecolor+";"),o}))}function O(t,e){return"---"===t.kind?function(t,e,r){var n=0,o=C.arcEndX,i="comment",a=m.createGroup();if(t.from&&t.to){var u=1*C.maxDepth*c.default.LINE_WIDTH,s=2*(C.maxDepth-t.depth)*c.default.LINE_WIDTH;n=e.from-(v.getDims().interEntitySpacing+2*c.default.LINE_WIDTH)/2-(s-u),o=e.to+(v.getDims().interEntitySpacing+2*c.default.LINE_WIDTH)/2+(s-u),i="inline_expression_divider"}var l=m.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});a.appendChild(l),a.appendChild(P(t,e,r)),t.linecolor&&l.setAttribute("style","stroke:"+t.linecolor+";");return a}(t,v.getOAndD(t.from,t.to),e):P(t,v.getOAndD(t.from,t.to),e)}function I(t,e,r,n,o){var a,u=m.createGroup(),s="arc ";s+="<:>"===(a=t.kind)?"bidi ":"::"===a?"nodi ":"",s+=f.getAggregateClass(t.kind)+" "+f.getClass(t.kind);var p=[":>","::","<:>"].includes(t.kind),y=function(t,e,r){var n=b.get(t).y+e;if(r){var o=Math.floor(r),i=r-o,a=b.get(t).realRowNumber;n=b.getByRealRowNumber(a+o).y+i*(b.getByRealRowNumber(a+o+1).y-b.getByRealRowNumber(a+o).y)}return n}(n,C.arcGradient,t.arcskip);if(e===(r=g.determineArcXTo(t.kind,e,r))){u.appendChild(function(t,e,r,n,o,i){var a=C.arcRowHeight/5*2,u=v.getDims().interEntitySpacing/2,s={},h="arc "+f.getAggregateClass(t)+" "+f.getClass(t);if(n){s=m.createGroup();var p=m.createUTurn({x:e,y:o,width:u-2*c.default.LINE_WIDTH,height:a},o+r+a-2*c.default.LINE_WIDTH,{class:h,dontHitHome:"::"!==t,lineWidth:c.default.LINE_WIDTH}),g=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a-c.default.LINE_WIDTH,{lineWidth:c.default.LINE_WIDTH}),b=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"::"!==t,lineWidth:c.default.LINE_WIDTH});i&&p.setAttribute("style","stroke:"+i),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){g.setAttribute(t.name,t.value)})),g.setAttribute("style","stroke:transparent;"),Boolean(i)&&b.setAttribute("style","stroke:"+i),s.appendChild(p),s.appendChild(b),s.appendChild(g),s.setAttribute("class",h)}else s=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"-x"===t,lineWidth:c.default.LINE_WIDTH}),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){s.setAttribute(t.name,t.value)}));return s}(t.kind,e,y-b.get(n).y-C.arcGradient,p,b.get(n).y,t.linecolor));var x=2*v.getDims().interEntitySpacing/3;u.appendChild(h.createLabel(t,{x:e+1.5*c.default.LINE_WIDTH-x/2,y:b.get(n).y-C.arcRowHeight/5-c.default.LINE_WIDTH/2,width:x},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},i.default(o))))}else{var w=m.createLine({xFrom:e,yFrom:b.get(n).y,xTo:r,yTo:y},{class:s,doubleLine:p});d.getAttributes(l.get(),t.kind,t.linecolor,e,r).forEach((function(t){w.setAttribute(t.name,t.value)})),u.appendChild(w),u.appendChild(h.createLabel(t,{x:e,y:b.get(n).y+(y-b.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===C.regularArcTextVerticalAlignment,ownBackground:!0},i.default(o))))}return u}function P(t,e,r){var n=0,o=C.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),h.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:C.wordWrapArcs})}function D(t,e,r,n){var o,i=2*C.maxDepth*c.default.LINE_WIDTH,a=t.to-t.from+v.getDims().interEntitySpacing-2*c.default.LINE_WIDTH-i,u=t.from-(v.getDims().interEntitySpacing-2*c.default.LINE_WIDTH-i)/2,s=m.createGroup(),l=h.createLabel(e,{x:u,y:r,width:a},n),f=y.getBBox(l),d=Math.max(f.height+2*c.default.LINE_WIDTH,C.arcRowHeight-2*c.default.LINE_WIDTH),p={width:a,height:d,x:u,y:r-d/2};switch(e.kind){case"rbox":o=m.createRBox(p,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":o=m.createABox(p,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":o=m.createNote(p,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:c.default.LINE_WIDTH});break;default:o=m.createRect(p,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return s.appendChild(o),s.appendChild(l),s}e.clean=function(t,e){C.document=p.init(e),y.init(C.document),y.removeRenderedSVGFromElement(t)},e.render=function(t,e,r,n){var o=Object.freeze(u.flatten(t)),i=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return l.setPrefix(r),S(o,e,i,n||{}),k(o),L(o),y.webkitNamespaceBugWorkaround(i.innerHTML)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(23)),a=n(r(5)),u=o(r(24)),c=n(r(2)),s=n(r(11)),l=n(r(25)),f=0;function d(t){void 0===t.label&&(t.label=t.name)}function h(t){t.label&&(t.label=u.unescapeString(t.label)),t.id&&(t.id=u.unescapeString(t.id))}function p(t){t.label=Boolean(t.label)?t.label:""}function g(t){if(s.default(t.kind)!==t.kind){t.kind=s.default(t.kind);var e=t.from;t.from=t.to,t.to=e}}function b(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function m(t,e){if(void 0===e&&(e=[]),t&&t.from){var r=e.find((function(e){return e.name===t.from}));r&&b(t,r)}}function y(t,e,r,n){var o=[],i=[],u=[];return t.forEach((function(t){if(t.isVirtual=!1,"inline_expression"===c.default(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var o=a.default(t);o.numberofrows=function t(e){return e.arcs.reduce((function(e,r){return e+(Boolean(r[0].arcs)?t(r[0])+1:0)}),e.arcs.length)}(o),delete o.arcs,i.push(o),t.arcs.forEach((function(t){u=u.concat(y(t,e+1,o.from,o.to)),t.forEach((function(t){b(t,o)}))})),e>f&&(f=e)}else i.push(t);u.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===c.default(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)})),o.push(i),o.concat(u)}function v(t){return f=0,{options:l.default(t.options),entities:a.default(t.entities),arcs:(e=t.arcs,e?e.reduce((function(t,e){return t.concat(y(e,0))}),[]):[]),depth:f+1};var e}e.nameAsLabel=d,e.swapRTLArc=g,e.overrideColors=m,e.normalize=v,e.flatten=function(t){return v(i.default(t,[d,h],[g,m,h,p]))}},function(t,e,r){"use strict";function n(t,e,r){e.forEach((function(e){!function(t,e,r){e.forEach((function(o){!function(t,e,r,n){n.forEach((function(n){n(r,t,e)}))}(t,e,o,r),o.arcs&&n(t,o.arcs,r)}))}(t,e,r)}))}e.__esModule=!0,e.default=function(t,e,r){var o,i;return o=t.entities,i=e,o.forEach((function(t){i.forEach((function(e){e(t)}))})),t.arcs&&n(t.entities,t.arcs,r),t}},function(t,e,r){"use strict";e.__esModule=!0,e.unescapeString=function(t){return t.replace(/\\"/g,'"')},e.escapeString=function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(3)),a=o(r(12)),u=o(r(0)),c=o(r(8)),s=160,l=100,f=34,d=function(){function t(t){this.interEntitySpacing=s,this.height=f,this.width=l,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=t*s,this.width=t*l)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,r){var n=this,o=u.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,r)+2*i.default.LINE_WIDTH,t.forEach((function(t){o.appendChild(n.renderEntity(t,n.entityXHWM,e,r)),n.setX(t,n.entityXHWM),n.entityXHWM+=n.interEntitySpacing})),o},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,r){return a.splitLabel(t,"entity",this.width,e,r).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var r=Math.min(c.getBBox(t).width+4*i.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e},t.prototype.renderEntity=function(t,e,r,n){var o=u.createGroup(),i={x:e||0,y:r||0,width:this.width,height:this.height},c=a.createLabel(Object.assign({kind:"entity"},t),Object.assign({},i,{y:i.y+i.height/2}),n);return o.appendChild(u.createRect(this.sizeEntityBoxToLabel(c,i),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),o.appendChild(c),o},t.prototype.getMaxEntityHeight=function(t,e){var r=this,n=t[0],o=2;return t.forEach((function(t){var a=r.getNoEntityLines(t.label,i.default.FONT_SIZE,e);a>o&&(o=a,n=t)})),o>2?Math.max(this.height,c.getBBox(this.renderEntity(n,0,0,e)).height):this.height},t}();e.Thing=d},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=0,n=[],o=0,i=0,a=0,u=0,c=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");u<=c.length;)u>=c.length?n.push(c.substring(o,u)):"\n"===c[u]?(r=0,a=u,n.push(c.substring(o,a)),o=a+1):r++>=e&&(-1===(a=c.substring(0,u).lastIndexOf(" "))||a<o?(r=1,a=u,i=u):(r=0,i=a+1),n.push(c.substring(o,a)),o=i),u++;return n}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(1)),i=n(r(4));e.createDoubleLine=function(t,e){var r=e.lineWidth||1,n=r,a=e?e.class:"",u=i.getDirection(t),c=i.determineEndCorrection(t,a,r),s=i.determineStartCorrection(t,a,r),l=(t.xTo-t.xFrom+c-s).toString(),f=(t.yTo-t.yFrom).toString(),d=o.pathPoint2String("l",u.signX,u.dy),h=o.pathPoint2String("l",l,f);return o.createPath(o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*u.dy)+d+o.pathPoint2String("M",t.xFrom+s,t.yFrom-n)+h+o.pathPoint2String("M",t.xFrom+s,t.yFrom+n)+h+o.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*r*u.dy)+d,e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),i=n.toString(10);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width-n,0)+o.pathPoint2String("l",0,i)+o.pathPoint2String("l",i,0)+o.pathPoint2String("m",-i,-i)+o.pathPoint2String("l",i,i)+o.pathPoint2String("l",0,t.height-n)+o.pathPoint2String("l",-t.width,0)+o.pathPoint2String("l",0,-t.height)+"z",e)},e.createRBox=function(t,e){var r=Object.assign({rx:6,ry:6},e);return o.createRect(t,r)},e.createABox=function(t,e){return o.createPath(o.pathPoint2String("M",t.x,t.y+t.height/2)+o.pathPoint2String("l",3,-t.height/2)+o.pathPoint2String("l",t.width-6,0)+o.pathPoint2String("l",3,t.height/2)+o.pathPoint2String("l",-3,t.height/2)+o.pathPoint2String("l",-(t.width-6),0)+"z",e)},e.createEdgeRemark=function(t,e){var r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width,0)+o.pathPoint2String("l",0,t.height-r)+o.pathPoint2String("l",-r,r)+o.pathPoint2String("l",-(t.width-r),0),n)},e.createSingleLine=o.createSingleLine,e.createRect=o.createRect},function(t,e,r){"use strict";e.__esModule=!0,e.SVGNS="http://www.w3.org/2000/svg",e.XLINKNS="http://www.w3.org/1999/xlink";var n={};function o(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function i(t,e,r,n){return Boolean(n)&&t.setAttributeNS(e,r,n),t}function a(t,e){return Object.keys(e||{}).forEach((function(r){o(t,r,e[r])})),t}e.setAttribute=o,e.setAttributeNS=i,e.setAttributes=a,e.setAttributesNS=function(t,e,r){return Object.keys(r||{}).forEach((function(n){i(t,e,n,r[n])})),t},e.createElement=function(t,r){return a(n.createElementNS(e.SVGNS,t),r)},e.createTextNode=function(t){return n.createTextNode(t)},e.init=function(t){n=t}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return 0-360*Math.atan(t.height/t.width)/(2*Math.PI)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=r(32),a=r(14),u=n(r(7)),c=o(r(1)),s=o(r(4));e.createSingleLine=function(t,e){void 0===e&&(e={});var r=s.getDirection(t);return c.createPath(c.pathPoint2String("M",t.xFrom,t.yFrom)+c.pathPoint2String("L",u.default(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:u.default(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+a.line2CurveString(t),e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=c.createGroup();return o.appendChild(c.createPath(i.renderNotePathString(t,n),e)),e.bgColor="transparent",o.appendChild(c.createPath(i.renderNoteCornerString(t,n),e)),o},e.createRect=function(t,e){return c.createPath(i.rbox2CurveString(t,0),e)},e.createABox=function(t,e){return c.createPath(i.abox2CurveString(t,3),e)},e.createRBox=function(t,e){return c.createPath(i.rbox2CurveString(t,6),e)},e.createEdgeRemark=function(t,e){var r=e&&e.lineWidth||1,n=c.createGroup(),o=e&&e.foldSize?e.foldSize:7,a=e&&e.color?e.color:"black";e.color="transparent!important";var u=c.createPath(c.pathPoint2String("M",t.x,t.y+r/2)+c.pathPoint2String("L",t.x+t.width,t.y+r/2)+c.pathPoint2String("L",t.x+t.width,t.y+t.height-o)+c.pathPoint2String("L",t.x+t.width-o,t.y+t.height)+c.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=a;var s=c.createPath(i.edgeRemark2CurveString(t,o),e);return n.appendChild(u),n.appendChild(s),n},e.createDoubleLine=function(t,e){return c.createPath(i.doubleLine2CurveString(t,e),{class:e.class})}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(1)),i=n(r(4)),a=r(14);e.renderNotePathString=function(t,e){return o.pathPoint2String("M",t.x,t.y)+a.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+o.pathPoint2String("L",t.x,t.y+t.height)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+o.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return o.pathPoint2String("M",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width-e,t.y+e)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+t.height/2)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+o.pathPoint2String("L",t.x+e,t.y)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+o.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+e)+a.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var r=e.lineWidth||1,n=r,u=e?e.class:"",c=i.getDirection(t),s=i.determineEndCorrection(t,u,r),l=i.determineStartCorrection(t,u,r);return o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*c.dy)+o.pathPoint2String("l",c.signX,c.dy)+o.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+s,yTo:t.yTo-n})+o.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+s,yTo:t.yTo+n})+o.pathPoint2String("M",t.xTo-c.signX,t.yTo+7.5*r*c.dy)+o.pathPoint2String("l",c.signX,c.dy)},e.edgeRemark2CurveString=function(t,e){return o.pathPoint2String("M",t.x+t.width,t.y)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+o.pathPoint2String("L",t.x-1,t.y+t.height)}},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=u||c||Function("return this")();var l,f=Array.prototype,d=Function.prototype,h=Object.prototype,p=s["__core-js_shared__"],g=(l=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",b=d.toString,m=h.hasOwnProperty,y=h.toString,v=RegExp("^"+b.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=f.splice,w=T(s,"Map"),_=T(Object,"create");function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function S(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function L(t){return!(!j(t)||(e=t,g&&g in e))&&(function(t){var e=j(t)?y.call(t):"";return e==o||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?v:a).test(function(t){if(null!=t){try{return b.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function E(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function T(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return L(r)?r:void 0}function M(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(M.Cache||S),n}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}C.prototype.clear=function(){this.__data__=_?_(null):{}},C.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},C.prototype.get=function(t){var e=this.__data__;if(_){var r=e[t];return r===n?void 0:r}return m.call(e,t)?e[t]:void 0},C.prototype.has=function(t){var e=this.__data__;return _?void 0!==e[t]:m.call(e,t)},C.prototype.set=function(t,e){return this.__data__[t]=_&&void 0===e?n:e,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(t){var e=this.__data__,r=k(e,t);return!(r<0)&&(r==e.length-1?e.pop():x.call(e,r,1),!0)},A.prototype.get=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]},A.prototype.has=function(t){return k(this.__data__,t)>-1},A.prototype.set=function(t,e){var r=this.__data__,n=k(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},S.prototype.clear=function(){this.__data__={hash:new C,map:new(w||A),string:new C}},S.prototype.delete=function(t){return E(this,t).delete(t)},S.prototype.get=function(t){return E(this,t).get(t)},S.prototype.has=function(t){return E(this,t).has(t)},S.prototype.set=function(t,e){return E(this,t).set(t,e),this},M.Cache=S,t.exports=M}).call(this,r(6))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(35)),i=n(r(11)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},u={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function c(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}function s(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function l(t,e){return a[i.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function f(t,e){function r(e){f(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&a[i.default(e.kind)]&&a[i.default(e.kind)].marker&&!t.includes(l(e.kind,e.linecolor))&&t.push(l(e.kind,e.linecolor)),t}function d(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.getAttributes=function(t,e,r,n,o){var i=[];return a[e]&&a[e].attributes&&(i=a[e].attributes.map((function(i){return{name:i.name,value:i.value.replace(/\{\{signal-marker-end\}\}/g,c(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,s(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}}))),i},e.getMarkerDefs=function(t,e){return o.default(function(t){return t.arcs.reduce(f,[]).sort().map(d)}(e).map((function(e){return u[e.kind].variants.map((function(r){return{name:t+e.kind+r.name+"-"+e.color,path:r.path,color:e.color,type:e.kind}}))})))}},function(t,e,r){(function(e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function("return this")();function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var l=Object.prototype,f=l.hasOwnProperty,d=l.toString,h=c.Symbol,p=l.propertyIsEnumerable,g=h?h.isConcatSpreadable:void 0;function b(t){return m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==o||e==i}(t)}(t)}(t)&&f.call(t,"callee")&&(!p.call(t,"callee")||d.call(t)==n)}(t)||!!(g&&t&&t[g])}var m=Array.isArray;t.exports=function(t){return(t?t.length:0)?function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=b),i||(i=[]);++a<u;){var c=e[a];r>0&&n(c)?r>1?t(c,r-1,n,o,i):s(i,c):o||(i[i.length]=c)}return i}(t,1):[]}}).call(this,r(6))},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(0)),a=o(r(3)),u=r(37),c={};function s(t,e){var r=c.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(c.createTextNode(function(t,e){return(r=d(t.additionalTemplate)||{},n=t.styleAdditions,(r.cssBefore||"")+u.baseTemplate+(r.cssAfter||"")+(n||"")).replace(/<%=fontSize%>/g,a.default.FONT_SIZE).replace(/<%=lineWidth%>/g,a.default.LINE_WIDTH).replace(/<%=id%>/g,e);var r,n}(t,e))),r}function l(t,e,r){var n=i.createDefs();return n.appendChild(s(r,t)),n=function(t,e){return e.forEach((function(e){"method"===e.type?t.appendChild(i.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(i.createMarkerPath(e.name,e.path,e.color))})),t}(n,e)}function f(t){return i.init(t.document,{LINE_WIDTH:a.default.LINE_WIDTH,FONT_SIZE:a.default.FONT_SIZE}),t.document}function d(t){return u.namedStyles.find((function(e){return e.name===t}))}e.init=f,e.bootstrap=function(t,e,r,n,o){c=f(t);var a,u,s=i.createSVG(r,r,function(t){var e="",r=d(t.additionalTemplate);Boolean(r)&&(e=r.renderMagic);return e}(o));return Boolean(o.source)&&s.appendChild(function(t,e){var r=i.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),r}(t,o.source)),s.appendChild(l(r,n,o)),s.appendChild((a=r,(u=i.createGroup(a+"_body")).appendChild(i.createGroup(a+"_background")),u.appendChild(i.createGroup(a+"_arcspans")),u.appendChild(i.createGroup(a+"_lifelines")),u.appendChild(i.createGroup(a+"_sequence")),u.appendChild(i.createGroup(a+"_notes")),u.appendChild(i.createGroup(a+"_watermark")),u)),e.appendChild(s),c}},function(t){t.exports=JSON.parse('{"baseTemplate":"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}","namedStyles":[{"name":"basic","description":"Basic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:underline;}"},{"name":"lazy","description":"Lazy","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{"name":"classic","description":"Classic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{"name":"fountainpen","description":"Fountain pen","experimental":true,"deprecated":false,"renderMagic":"wobbly","cssBefore":"@import \'https://fonts.googleapis.com/css?family=Gochi+Hand\';","cssAfter":"svg.<%=id%>{font-family:\'Gochi Hand\', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{"name":"cygne","description":"Cygne (best with msgenny)","experimental":true,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"pegasse","description":"Pégase (best with msgenny)","experimental":false,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"grayscaled","description":"Grayscaled (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{"name":"inverted","description":"Inverted (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{"name":"noentityboxes","description":"No entity boxes","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(5));e.scaleCanvasToWidth=function(t,e){var r=o.default(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},e.determineDepthCorrection=function(t,e){return t?2*(t+1)*e*2:0},e.determineArcXTo=function(t,e,r){return"-x"===t?e+.75*(r-e):r}},function(t,e,r){"use strict";e.__esModule=!0;var n=[],o=0,i=0;function a(t){return n[t]?n[t]:{y:o+1.5*i+t*i,height:i,realRowNumber:n.length-1}}function u(){return a(n.length-1)}e.get=a,e.getLast=u,e.clear=function(t,e){n=[],o=t,i=e},e.getByRealRowNumber=function(t){var e=n.find((function(e){return e.realRowNumber===t}));return void 0===e&&(e=u()),e},e.set=function(t,e,r){void 0===r&&(r=-1);var o=a(t-1);n[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:r}}},function(t,e){var r={defaultLanguage:"mscgen",parentElementPrefix:"mscgen_js-parent_",clickable:!1,clickURL:"https://sverweij.github.io/mscgen_js/",loadFromSrcAttribute:!1};t.exports={getConfig:function(){var t,e;return"undefined"!=typeof mscgen_js_config&&mscgen_js_config&&"object"==typeof mscgen_js_config&&(t=r,e=mscgen_js_config,Object.getOwnPropertyNames(e).forEach((function(r){t[r]=e[r]}))),r}}},function(t,e,r){var n=r(16),o="<span style='text-decoration:underline'>{char}</span>";function i(t,e){for(var r=t.toString(),n=e-r.length,o=0;o<n;o++)r=" "+r;return r}function a(t,e){return i(e,3)+" "+t}function u(t,e){return t.split("").reduce((function(t,r,i){return i===e?t+n.applyTemplate(o,{char:c(r)}):t+c(r)}),"")}function c(t){return t.replace(/</g,"&lt;")}t.exports={formatNumber:i,deHTMLize:c,renderError:function(t,e,r){var o=e?n.applyTemplate("<pre><div style='color: #d00'># ERROR on line {line}, column {col} - {message}</div>",{message:r,line:e.start.line,col:e.start.column}):n.applyTemplate("<pre><div style='color: #d00'># ERROR {message}</div>",{message:r});return t.split("\n").reduce((function(t,r,o){return e&&o===e.start.line-1?t+n.applyTemplate("<mark>{line}\n</mark>",{line:a(u(r,e.start.column-1),o+1)}):t+c(a(r,o+1))+"\n"}),o)+"</pre>"}}},function(t,e){t.exports={ajax:function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(t){t.target.readyState===XMLHttpRequest.DONE&&(200===n.status?e(t):r(t))},n.open("GET",t),n.responseType="text";try{n.send()}catch(t){r(t)}}}},function(t,e){var r=4094;function n(t,e,r){return t.pathname+"?lang="+r+"&msc="+encodeURIComponent(e)}t.exports={toLocationString:function(t,e,o){var i="# source too long for an URL";return function(t,e,o){return n(t,e,o).length<r}(t,e,o)&&(i=e),n(t,i,o)}}}]);